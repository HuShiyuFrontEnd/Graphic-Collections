!function(T,A){"use strict";var p="ht",W=p+".graph.",i=T[p],x=i.graph,G=i.Default,f=i.Color,g=null,F="px",z=G.getInternal(),Z=z.getPinchDist,e=G.preventDefault,m=G.getTouchCount,L=G.startDragging;z.addMethod(G,{overviewBackground:f.widgetBackground,overviewMaskBackground:f.transparent,overviewContentBorderColor:f.widgetBorder,overviewContentBackground:f.background},!0),x.Overview=function(S){var W=this,x=W._view=z.createView(1,W);W._canvas=z.createCanvas(x),x.style.background=G.overviewBackground,x.appendChild(W._mask=z.createDiv()),W.setGraphView(S),W.addListeners()},G.def(W+"Overview",A,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:G.overviewMaskBackground,_contentBorderColor:G.overviewContentBorderColor,_contentBackground:G.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(w){var b=this;if(b.gv!==w){var D=b.gv;b.gv=w,D&&(D.removeViewListener(b.handleGraphViewChanged,b),D.ump(b.handleGraphViewPropertyChanged,b)),w&&(w.addViewListener(b.handleGraphViewChanged,b),w.mp(b.handleGraphViewPropertyChanged,b)),b.fp("graphView",D,w),b.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(w){this._autoUpdate&&"validate"===w.kind&&this.redraw()},handleGraphViewPropertyChanged:function(o){("canvasBackground"===o.property||this.getFixToRect()&&("zoom"===o.property||"translateX"===o.property||"translateY"===o.property))&&this.redraw()},redraw:function(){var w=this;w._redraw||(w._redraw=1,w.iv(50))},validateImpl:function(){var J=this,s=J.gv,i=J._canvas,C=J.getWidth(),w=J.getHeight(),X=J._redraw;if(s){var Z=J._mask,f=Z.style,Y=s.getViewRect(),t=this.getFixToRect(),B=t?"boolean"==typeof t?s.getContentRect():t:s.getScrollRect(),h=B.x,d=B.y,j=B.width,P=B.height,v=J._rate=Math.max(j/C,P/w),D=J._x=(C-j/v)/2,K=J._y=(w-P/v)/2;if(0!==Y.width&&0!==Y.height||J.hasRetry||(G.callLater(J.iv,J,g),J.hasRetry=!0),(C!==i.clientWidth||w!==i.clientHeight)&&(z.setCanvas(i,C,w),X=1),z.isSameRect(B,J._scrollRect)||(J._scrollRect=B,X=1),X){var r=z.initContext(i),E=s.getDataModel().getBackground()||J._contentBackground,R=J._contentBorderColor,V=G.devicePixelRatio;r.clearRect(0,0,C*V,w*V),E&&z.fillRect(r,D*V,K*V,j/v*V,P/v*V,E),z.translateAndScale(r,-h/v+D,-d/v+K,1/v),s._42(r),r.restore(),R&&z.drawBorder(r,R,D*V,K*V,j/v*V,P/v*V)}f.background=J._maskBackground,f.left=D+(Y.x-h)/v+F,f.top=K+(Y.y-d)/v+F,f.width=Y.width/v+F,f.height=Y.height/v+F,J._redraw=null}else if(X){var r=z.initContext(i);r.clearRect(0,0,C,w),r.restore(),J._redraw=null}},center:function(W){var L=this,E=L.gv;if(E){var B=E._zoom,I=E._29I,S=L._rate,l=L._scrollRect,w=G.getLogicalPoint(W,L._canvas),M=l.x+(w.x-L._x)*S,J=l.y+(w.y-L._y)*S;E.setTranslate((I.width/2-M)*B,(I.height/2-J)*B)}},handle_mousedown:function(o){this.handle_touchstart(o)},handleWindowMouseUp:function(h){this.handleWindowTouchEnd(h)},handleWindowMouseMove:function(C){this.handleWindowTouchMove(C)},handle_mousewheel:function(W){this.handleScroll(W,W.wheelDelta)},handle_DOMMouseScroll:function(K){2===K.axis&&this.handleScroll(K,-K.detail)},handleScroll:function(F,i){if(e(F),this.gv){var K=this.gv;i>0?K.scrollZoomIn():0>i&&K.scrollZoomOut()}},handle_touchstart:function(o){if(e(o),this.gv&&G.isLeftButton(o)){var W=this,M=W.gv,E=m(o);1===E?G.isDoubleClick(o)&&M.isResettable()?M.reset():(W.center(o),L(W,o)):2===E&&(W._dist=Z(o),L(W,o))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(t){if(this.gv){var f=this,V=f._dist,D=m(t);1===D?f.center(t):2===D&&V!=g&&f.gv.handlePinch(g,Z(t),V)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);