!function(B,q){"use strict";var M="ht",t=B[M],V="px",p="left",$="top",a="bottom",m="right",P="innerHTML",b="className",S="",R="width",c="height",F="string",u="position",h="absolute",_="0",s="opacity",e="background",n=t.Default,v=n.getInternal(),f=t.Color,w=n.animate,D=n.isTouchable,I=null,d=(Math.sqrt,B.parseInt),N=B.setTimeout,O=(Math.round,f.titleIconBackground),J=function(V){return typeof V===F||V instanceof String},z=function(){return document},X=function(Y){return z().createElement(Y)},y=function(){var K=X("div");return K.tabIndex=-1,K.style.outline="none",K},T=function(){return X("canvas")},i=function(B,r){x(B,"-webkit-transform",r),x(B,"-ms-transform",r),x(B,"transform",r)},x=function(g,Y,h){g.style.setProperty(Y,h,I)},Q=function(T,B,V){n.def(t.widget[T],B,V)},l=function(k,H){k.appendChild(H)},L=function(){return z().documentElement},W=function(){return L().clientWidth},j=function(){return L().clientHeight},K=n.eventListenerOptionsFalse,o=(n.eventListenerOptionsTrue,function(B,s,t,W){B.addEventListener(s,t,W?K:K)}),U=function(Y,z,n,q){Y.removeEventListener(z,n,q?K:K)},Y=function(Z){var f=Z.touches[0];return f?f:Z.changedTouches[0]};v.addMethod(n,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:O},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:O}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:O},{type:"rect",rect:[10,10,80,20],background:O}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:O},{type:"rect",rect:[10,34,56,14],background:O},{type:"rect",rect:[34,10,56,14],background:O},{type:"rect",rect:[82,10,8,56],background:O},{type:"rect",rect:[66,62,24,8],background:O}]},dialogTitleLabelColor:n.labelSelectColor,dialogTitleLabelFont:(D?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:n.labelFont,dialogTitleBackground:f.titleBackground,dialogHeaderBackground:f.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var E=function(q){var I=this;I.$1d=q,I.addListeners()};n.def(E,q,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(C){var j=this,R=j.$1d,P=R.$6d,G=R._config,a=R.$7d,E=C,c=C.target;if(a.contains(c)||n.preventDefault(C),n.isLeftButton(C)){D&&(E=Y(C));var T=j.$8d={x:E.pageX,y:E.pageY};j.$9d={x:T.x,y:T.y},!G.maximized&&G.draggable&&P.contains(c)&&(j.$4d=!0,n.startDragging(j,C)),j.handle_mousemove(C)&&(j.$2d=!0,n.startDragging(j,C)),a.contains(C.target)||R.$41d.focus()}},handle_mousedown:function(A){this.handle_touchstart(A)},handle_touchend:function(b){if(n.isLeftButton(b)&&!this.$5d&&!this.$3d){var O=this,_=O.$1d,I=b.target,k=_._config,H=_.$18d,$=_.$16d;for(k.closable&&H.contains(I)&&_.hide(),k.maximizable&&$.contains(I)&&(k.maximized?_.restore():_.maximize());I&&(I.className||"").indexOf("dialog-button")<0;)I=I.parentNode;I&&I.buttonItem&&_.action&&_.action(I.buttonItem,b),delete O.$8d,delete O.$9d}},handle_mouseup:function(r){this.handle_touchend(r)},handleWindowTouchEnd:function(S){var _=this,W=_.$1d,b=W.$10d;_.$2d&&_.$3d?b.fire({kind:"endResize",target:W,originEvent:S}):_.$4d&&_.$5d&&b.fire({kind:"endMove",target:W,originEvent:S}),this.clear()},handleWindowMouseUp:function(W){this.handleWindowTouchEnd(W)},handle_mousemove:function(C){var e=this.$1d._config;if(e.maximized)return!1;if("w"!==e.resizeMode&&"h"!==e.resizeMode&&"wh"!==e.resizeMode)return!1;var V=this,d=V.getView(),w=d.querySelector(".resize-area"),W=w.getBoundingClientRect(),j={x:W.left,y:W.top,width:W.width,height:W.height};C=D?Y(C):C;var Z=C.clientX,c=C.clientY,o={x:Z,y:c};return n.containsPoint(j,o)?(x(d,"cursor","nwse-resize"),!0):(x(d,"cursor",S),void 0)},handleWindowTouchMove:function(G){G.preventDefault();var c=G;D&&(c=Y(G));var a=this,z=a.$8d,e=a.$9d;if(!(e.x==z.x&&e.y==z.y&&n.getDistance(e,{x:c.pageX,y:c.pageY})<=1)){var v=a.$1d,L=v._config,H=v.$21d,h=L.resizeMode||"wh",g=c.pageX-z.x,Z=c.pageY-z.y;if(a.$2d){var q=H.offsetWidth,K=H.offsetHeight,S=q+g,Q=K+Z;if(S=Math.max(S,50),Q=Math.max(Q,50),"center"===L.position||L.position==I){var f={},P=H.getBoundingClientRect();f.x=P.left,f.y=P.top,L.position=f}"w"===h?(v.setSize(S,K),z.x+=S-q):"h"===h?(v.setSize(q,Q),z.y+=Q-K):"wh"===h&&(v.setSize(S,Q),z.x+=S-q,z.y+=Q-K),a.$3d?v.$10d.fire({kind:"betweenResize",target:v,originEvent:G}):(a.$3d=!0,v.$10d.fire({kind:"beginResize",target:v,originEvent:G}))}else if(a.$4d){var u=H.getBoundingClientRect(),i=u.width,_=u.height,N=W(),k=j(),T=d(H.style.left)||0,t=d(H.style.top)||0,O=T+g,F=t+Z,A=v.adjustPosition({x:O,y:F},{width:i,height:_},{width:N,height:k});A&&(O=A.x,F=A.y);var l=O-T,w=F-t;x(H,p,O+V),x(H,$,F+V),z.x+=l,z.y+=w,L.position={x:O,y:F},a.$5d?v.$10d.fire({kind:"betweenMove",target:v,originEvent:G}):(a.$5d=!0,v.$10d.fire({kind:"beginMove",target:v,originEvent:G}))}}},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowResize:function(){var Y=this,o=Y,U=o._config,v=o.$21d,G=W(),D=j(),C=U.width,F=U.height,t=U.position||"center";U.maximized?(x(v,R,G+V),x(v,c,D+V),x(v,$,_),x(v,p,_)):(x(v,R,C+V),x(v,c,F+V),"center"===t?(x(v,p,(G-C)/2+V),x(v,$,(D-F)/2+V)):(x(v,p,t.x+V),x(v,$,t.y+V))),o.iv()},handle_mousewheel:function(K){K.stopPropagation()},handle_DOMMouseScroll:function(N){N.stopPropagation()}}),t.widget.Dialog=function(D){var o=this,A=o._view=v.createView(null,o);A[b]="ht-widget-dialog",x(A,u,h),n.baseZIndex!=I&&x(A,"z-index",n.baseZIndex+"");var O=o.$11d=new E(o);o.bindingHandleWindowResize=O.handleWindowResize.bind(o),o.$10d=new t.Notifier,D&&o.setConfig(D)},Q("Dialog",q,{ms_v:1,setTitle:function(n){this._config.title=n,this.getView().querySelector(".dialog-container-title span").innerHTML=n},clearNodes:function(J){if(J)for(;J.firstChild;)J.removeChild(J.firstChild)},$31d:function(){var F=this,B=F.$6d=y(),t=F._config,j=F.$12d=F.$13d();B[b]="dialog-container-title",x(B,"cursor","default"),x(B,"white-space","nowrap"),x(B,"overflow","hidden"),x(B,"font",n.dialogTitleLabelFont),x(B,e,t.titleBackground||n.dialogTitleBackground),x(B,"color",t.titleColor||n.dialogTitleLabelColor);var p=X("span"),C=F.$25d();if(t.titleAlign&&x(B,"text-align",t.titleAlign),t.titleIcon){var R=F.$14d=F.$15d();l(B,R)}if(t.title&&t.title.trim&&(t.title=t.title.trim()),p[P]=t.title||"&nbsp;",l(B,p),t.maximizable){var s=F.$16d=F.$17d();l(j,s)}if(t.closable){var z=F.$18d=F.$19d();l(j,z)}return l(B,j),x(B,"display","block"),x(B,"line-height",C+V),B},$13d:function(){var Z=y();return x(Z,u,h),x(Z,p,_),x(Z,m,5+V),x(Z,$,_),x(Z,a,_),x(Z,"text-align",m),x(Z,"white-space","nowrap"),Z[b]="dialog-title-controls",Z},$20d:function(){var F=this.$21d=y(),L=this._config,o=L.borderWidth;return x(F,u,"fixed"),x(F,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),x(F,"padding",_+" "+o+V+" "+o+V+" "+o+V),x(F,"box-sizing","border-box"),x(F,"-moz-box-sizing","border-box"),F[b]="dialog-container",x(F,e,L.titleBackground||n.dialogTitleBackground),F},$22d:function(){var g,F=this,z=F._config,E=F.$7d=y(),U=z.content,f=0,i=z.contentPadding||0;z.buttons!=I&&z.buttons.length>0&&(f=32),J(U)?E[P]=U:U.getView?(g=U.getView(),l(E,g)):(g=U,l(E,g)),x(E,u,h),x(E,"font",n.dialogContentLabelFont),t.Default.appendToScreen(E);var o=E.offsetWidth+1,r=E.offsetHeight,B=F.$25d();return z.width==I&&(z.width=o+10+2*i),z.height==I&&(z.height=r+B+f+5+2*i),t.Default.removeHTML(E),g&&(x(g,"box-sizing","border-box"),x(g,"-moz-box-sizing","border-box"),x(g,R,"100%"),x(g,c,"100%")),E[b]="dialog-content",x(E,$,B+i+V),x(E,a,f+i+V),x(E,p,i+V),x(E,m,i+V),x(E,"overflow","hidden"),E},getOverlayDiv:function(){return this.$41d},$23d:function(){var O=this.$41d=y();return O[b]="dialog-overlay",x(O,R,"100%"),x(O,c,"100%"),x(O,u,"fixed"),x(O,$,_),x(O,p,_),x(O,e,"rgba(235, 235, 235, 0.7)"),O},_config:I,setSize:function(f,n){var F=this,J=F._config;J&&(J.width=f,J.height=n,F.isShowing()&&(F.bindingHandleWindowResize(),F.iv()))},getConfig:function(){return this._config},$24d:function(){var k=this._config,B=k.titleIconSize||16;return D&&(B*=1.2),B},$25d:function(){var O=this._config,I=O.titleHeight||n.widgetTitleHeight;return I},$26d:function(A){x(A,"cursor","pointer"),x(A,"display","inline-block"),x(A,"margin-right",(D?8:4)+V),x(A,"vertical-align",$)},$27d:function(){var A=this.$30d=y(),P=10;return D&&(P=20),x(A,R,P+V),x(A,c,P+V),x(A,u,h),x(A,a,_),x(A,m,_),A[b]="resize-area",A},$15d:function(){var q=this,A=T();A[b]="dialog-title-control dialog-title-control-icon";var p=q.$25d(),V=q.$24d();return q.$26d(A),v.setCanvas(A,V,p),A},$17d:function(){var y=T();y[b]="dialog-title-control dialog-title-control-maximize";var S=this.$25d(),c=this.$24d();return this.$26d(y),v.setCanvas(y,c,S),y},$19d:function(){var u=T();u[b]="dialog-title-control dialog-title-control-close";var j=this.$25d(),P=this.$24d();return this.$26d(u),v.setCanvas(u,P,j),u},$28d:function(){var d=y();return x(d,e,"white"),x(d,R,"100%"),x(d,c,"100%"),x(d,u,"relative"),d},$29d:function(){var E=this,M=y();x(M,"line-height",32+V),x(M,u,h),x(M,a,_),x(M,p,_),x(M,"white-space","nowrap"),x(M,"overflow","hidden"),x(M,m,_),x(M,e,n.dialogHeaderBackground),M[b]="dialog-container-buttons";var Q=this._config,Z=Q.buttonsAlign||m,w=0;return x(M,"text-align",Z),E.$42d=[],Q.buttons.forEach(function(S){var o=new t.widget.Button,k=o.getView();k[b]="dialog-button "+S.className,k.buttonItem=S,E.$42d.push(o),o.setBorderColor(I),o.setBackground(n.dialogButtonBackground),o.setSelectBackground(n.dialogButtonSelectBackground),o.setLabelColor(n.dialogButtonLabelColor),x(k,u,"relative"),x(k,"display","inline-block"),x(k,"text-align",p),x(k,"height",24+V);var W=D?10:5;Z===p||Z===m?x(k,"margin-"+Z,W+V):0===w||x(k,"margin-"+p,W+V),x(k,"vertical-align","middle");var B=n.getTextSize(o.getLabelFont(),S.label).width+10;o.onClicked=function(Y){S.action&&S.action.call(E,S,Y)},o.setLabel(S.label),o.setDisabled(S.disabled),x(k,R,B+V),l(M,o.getView()),w++}),M},setConfig:function(g){if(g){var J=this,m=J._view;J._config=g,J.action=g.action,J.clearNodes(m),g.borderWidth==I&&(g.borderWidth=5);var Y=J.$23d(),V=J.$28d(),k=J.$31d(),T=J.$22d(),N=J.$20d(),j=J.$30d=J.$27d();if(l(m,Y),l(m,N),l(N,V),l(V,k),l(V,T),g.buttons!=I&&g.buttons.length>0){var n=J.$29d();l(V,n)}l(N,j),g.maximized?(g.maximized=!1,J.bindingHandleWindowResize(),J.maximize(!0)):J.bindingHandleWindowResize(),J.isShowing()&&J.iv()}},hide:function(){var E=this,g=E.$21d,n=E.$41d,I=E._view;I[b]="ht-widget-dialog",w(g).duration(200).scale(.7).set(s,_).end(function(){E.onHidden&&E.onHidden(),t.Default.removeHTML(I),E.$10d.fire({kind:"hide",target:E})}),w(n).duration(200).set(s,_).end(),U(B,"resize",E.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(g){this.$41d.style.display=g?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var D=this,r=D._config,A=D.$21d;i(A,S),D.iv(),r.maximized?D.$10d.fire({kind:"maximize",target:D}):D.$10d.fire({kind:"restore",target:D})},maximize:function(B){var v=this,k=v.$21d,h=v._config;if(!h.maximized){h.maximized=!0,v.$33d(),v.$16d[b]="dialog-title-control dialog-title-control-minimize";var i=W(),m=j(),r=h.width,E=h.height,n=d(k.style.left)||0,P=d(k.style.top)||0;v.$36d=r,v.$37d=E,v.$34d=n,v.$35d=P;var S=B?0:200;w(k).duration(S).set(p,_).set($,_).set(R,i+V).set(c,m+V).end(function(){v.$32d()})}},restore:function(){var x=this,U=x.$34d,T=x.$35d,W=x.$36d,H=x.$37d,j=x._config;if(j.maximized&&(j.maximized=!1,x.$33d(),x.$16d[b]="dialog-title-control dialog-title-control-maximize",x.isShowing()&&U!=I&&T!=I&&W!=I&&H!=I)){var E=x.$21d;w(E).duration(200).set(p,U+V).set($,T+V).set(R,W+V).set(c,H+V).end(function(){x.$32d()})}delete x.$34d,delete x.$35d,delete x.$36d,delete x.$37d},show:function(){var H=this,X=H._view,C=H._config,n=H.$21d,M=H.$41d;C&&C.zIndex!=I&&x(X,"z-index",C.zIndex+S),t.Default.appendToScreen(X),i(n,"scale(0.7)"),x(n,s,_),H.iv(),H.validate(),H._view[b]+=" dialog-show",N(function(){w(n).duration(200).scale(1).set(s,"1").end(function(){x(n,R,n.clientWidth+V),x(n,c,n.clientHeight+V),H.onShown&&H.onShown(),H.$10d.fire({kind:"show",target:H})}),w(M).duration(200).set(s,"1").end(),o(B,"resize",H.bindingHandleWindowResize)},30)},setPosition:function(p){var S=this.$21d;S.style.left=p.x+"px",S.style.top=p.y+"px"},addEventListener:function(k,s,Z){this.$10d.add(k,s,Z)},removeEventListener:function(s,Z){this.$10d.remove(s,Z)},$38d:function(z,I,Y,J){var A=v.initContext(z);v.translateAndScale(A,0,0,1),A.clearRect(0,0,Y,Y);var B=(Y-J)/2;n.drawStretchImage(A,n.getImage(I),"fill",0,B,J,J),A.restore()},$33d:function(){var f=this,B=f._config,y=f.$16d,H=B.maximized?n.dialogRestoreIcon:n.dialogMaximizeIcon;if(y&&H){var m=f.$25d(),$=f.$24d();f.$38d(y,n.getImage(H),m,$)}},$39d:function(){var Q=this,T=Q._config,J=Q.$14d,o=T.titleIcon;if(J&&o){var V=Q.$25d(),m=Q.$24d();Q.$38d(J,n.getImage(o),V,m)}},$40d:function(){var $=this,u=$.$18d,P=n.dialogCloseIcon;if(u&&P){var Y=$.$25d(),Z=$.$24d();$.$38d(u,n.getImage(P),Y,Z)}},invalidate:function(b){var X=this,F=X.$42d;X._68I||(X._68I=1,n.callLater(X.validate,X,I,b),X.onInvalidated&&X.onInvalidated(),X.fireViewEvent("invalidate"));var l=X._config.content;l.invalidate&&l.invalidate(),F&&F.forEach(function(O){O.iv()})},validateImpl:function(){var D=this;D.$40d(),D.$33d(),D.$39d();var P=D._config.content;P.initView&&(P.setX(0),P.setY(0),P.setWidth(D.$7d.clientWidth),P.setHeight(D.$7d.clientHeight))},adjustPosition:function(o,l,n){var F=l.width,P=l.height,j=n.width,u=n.height,i=o.x,$=o.y,Z=this._config,s=Z.minDragSize||20;return"inside"===Z.dragMode?(i+F>j&&(i=j-F),$+P>u&&($=u-P),0>i&&(i=0),0>$&&($=0)):(null==Z.dragMode||"none"===Z.dragMode)&&(-F+s>i&&(i=-F+s),i>j-s&&(i=j-s),$>u-s&&($=u-s),0>$&&($=0)),{x:i,y:$}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);