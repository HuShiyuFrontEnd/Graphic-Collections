!function(p,e,u){"use strict";var H="ht",I=p[H],h=I.Default,J=h.isTouchable,R=I.Color,A="px",F="0",Y="innerHTML",m="className",C="position",M="absolute",U="width",l="height",g="left",S="top",O="right",P="bottom",K="max-width",i="max-height",G=null,q="none",Z="",t=p.parseInt,j=p.setTimeout,b=h.getInternal(),n=h.animate,v=R.titleIconBackground,o=function(){return document},_=function(X){return o().createElement(X)},L=function(){return _("div")},s=function(){return _("canvas")},r=function(y,N,v){y.style.setProperty(N,v,G)},B=function(s,W){return s.style.getPropertyValue(W)},z=function(X,T){X.appendChild(T)},f=function(z,V){z.removeChild(V)},W=h.eventListenerOptionsFalse,E=(h.eventListenerOptionsTrue,function(Q,Y,g,l){Q.addEventListener(Y,g,l?W:W)}),a=function(e){var c=e.scrollWidth,A=e.scrollHeight;return e===o().body&&(c=Math.max(c,o().documentElement.scrollWidth),A=Math.max(A,o().documentElement.scrollHeight)),{width:c,height:A}},k=function(f){var y=f.touches[0];return y?y:f.changedTouches[0]};b.addMethod(h,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:v,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:v}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:v},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:v}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:v},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:v}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:v},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:v},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:v},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:v}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:v},{type:"rect",rect:[10,118,268,56],background:v},{type:"rect",rect:[10,213,268,56],background:v}]},panelTitleLabelColor:h.labelSelectColor,panelTitleLabelFont:h.labelFont,panelContentLabelFont:h.labelFont,panelTitleBackground:R.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:u},!0);var D=I.widget.Panel=function(E){var x=this,O=x._view=b.createView(null,x);x.$1i=0,x.$18i=new I.Notifier,x.$2i="leftTop",r(O,S,F),r(O,g,F),r(O,C,M),r(O,"overflow","hidden"),x._interactor=new V(x),x.setConfig(E),x.addEventListener(function(L){var G=x.getPanelConfig(L.id),j=G.content;("beginRestore"===L.kind||"betweenResize"===L.kind||"endToggle"===L.kind)&&(j&&j.invalidate&&j.invalidate(),G.items&&G.items.forEach(function(g){g&&g.content&&g.content.invalidate&&g.content.invalidate()}))})};h.def(D,e,{ms_v:1,_dragContainment:"parent",setConfig:function(T){function e(e){e.expanded=!e.expanded,x.togglePanel(e.id,!0,!0)}if(T){for(var x=this,Q=x._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);x._config=T,x.$35i=[],T.expanded==G&&(T.expanded=T.expand!=G?T.expand:!0);var W=x._view,J=x.$24i(T,W,!0),V=J[2],H=T.width;x.$35i.push(J[1]),T.items&&T.items.forEach(function(X){X.expanded==G&&(X.expanded=X.expand!=G?X.expand:!0);var l=x.$24i(X,V.children[0]);x.$35i.push(l[1])});var R=L();r(R,U,10+A),r(R,l,10+A),r(R,C,M),r(R,P,F),r(R,O,F),R[m]="resize-area",z(W,R),x.$10i(),T.flowLayout&&r(W,C,"relative"),r(W,"opacity",F),z(o().body,W),H==G&&(H=W.offsetWidth),r(W,U,H+A),r(W,K,H+A);var w=T.content;w&&w.isSelfViewEvent&&(w.setX(0),w.setY(0),w.setWidth(H-2*(T.borderWidth||0)),w.setHeight(T.contentHeight)),T.items&&T.items.forEach(function(y){e(y)}),T.buttons&&T.buttons.indexOf("toggle")<0||e(T),T.minimized==G&&T.minimize!=G&&(T.minimized=T.minimize),T.minimized&&T.minimizable!==!1&&x.minimize(!0),f(o().body,W),r(W,"opacity",Z),Q&&z(Q,W),x.iv()}},getPanelConfig:function(D){var v=this,Z=v._config,g=Z.items;if(Z.id===D)return Z;if(g)for(var I=0;I<g.length;I++){var F=g[I];if(F.id===D)return F}},getPanelView:function(V){for(var $=this,n=$.$35i,I=0;I<n.length;I++){var M=n[I],k=M.parentNode;if(k.$15i===V)return k}},setDragContainment:function(u){this._dragContainment=u},getDragContainment:function(){return this._dragContainment},$20i:function(){var M=this._config,k=M.restoreIconSize||24;return k},$5i:function(n){var X=n.titleIconSize||16;return J&&(X*=1.2),X},$4i:function(w){var C=w.titleHeight||h.widgetTitleHeight;return C},setTitle:function(X,Z){if(Z==G&&(Z=this._config.id),Z!=G){var r=this.getPanelConfig(Z),M=this.getPanelView(Z);r.title=X,M.querySelector(".panel-title span").innerHTML=X}},setInnerPanel:function(W){var p,q,D=this,R=W.id,w=D.$35i,x=!1;if(W.expanded==G&&(W.expanded=!0),R!=G){var U=D.getPanelConfig(R);if(U){x=!0;var c,h=D.getPanelView(R),u=h.parentNode,X=h.children[0];if(h!==D._view){D.$11i();for(c in U)delete U.key;for(c in W)U[c]=W[c];p=D.$24i(W,u,!1,h),q=p[1],u.removeChild(h);for(var H=0;H<w.length;H++)if(w[H]===X){w.splice(H,1,q);break}D.$12i(),U.expanded=!U.expanded,D.togglePanel(U.id,!0,!0),D.iv()}}}if(!x){D.$11i(),p=D.$24i(W,D._view.children[1]),q=p[1],w.push(q),D._config.items||(D._config.items=[]);var j=D._config.items;if(j.push(W),D.$12i(),j.length>1){var i=j[j.length-2],S=D.getPanelView(i.id).children[0];r(S,"border-bottom",D.$55i(i))}W.expanded=!W.expanded,D.togglePanel(W.id,!0,!0),D.iv()}},removeInnerPanel:function(s){var C,Z=this,G=-1,k=Z._config.items;if(k)for(C=0;C<k.length;C++){var g=k[C];if(g.id===s){G=C;break}}if(Z.$11i(),G>=0){var K=Z.$35i,V=Z.getPanelView(s),D=V.children[0];for(C=0;C<K.length;C++)if(K[C]===D){K.splice(C,1);break}k.splice(G,1),V.parentNode.removeChild(V)}if(Z.$12i(),k.length>0){var R=k[k.length-1],W=Z.getPanelView(R.id).children[0];r(W,"border-bottom",Z.$55i(R))}},$6i:function(M){r(M,"cursor","pointer"),r(M,"display","inline-block"),r(M,"margin-right",(J?8:4)+A),r(M,"vertical-align",S)},$24i:function(v,x,F,f){var M=this,j=M._config.flowLayout,Y=F?x:L(),n=M.$50i(v),e=M.$3i(v,F);Y[m]="ht-widget-panel"+(F?" outer-panel":" inner-panel"),v.borderWidth==G&&(v.borderWidth=F?2:0);var Z=v.borderWidth;if(Z="0 "+Z+A+" "+Z+A+" "+Z+A+" ",r(Y,"border-width",Z),r(Y,"border-color",v.titleBackground||h.panelTitleBackground),r(Y,"border-style","solid"),z(Y,e),z(Y,n),F||(f?x.insertBefore(Y,f):z(x,Y)),!j&&F&&v.minimizable!==!1){var i=s(),E=M.$20i(),H=v.restoreToolTip;b.setCanvas(i,E,E),i[m]="control-button button-minimize button-minimize-restore",M.$6i(i),r(i,"display","none"),z(x,i),i.title=H||""}var a=v.panelBackground||v.titleBackground||h.panelTitleBackground;if(r(Y,"background-color",a),v.id==G){for(var d=M.$1i++;M.getPanelConfig(d);)d=M.$1i++;v.id=d}return Y.$15i=v.id,v.width&&(Y.style.width=v.width+A),[Y,e,n]},$9i:function(C){var W=s();W[m]="control-button button-toggle button-toggle-expand",W.title=C.toggleToolTip||"";var d=this.$4i(C),E=this.$5i(C);return this.$6i(W),b.setCanvas(W,E,d),W},$8i:function(P){var K=s(),T="control-button button-independent-switch";K[m]=P.independent===!0?T+" button-independent-switch-on":T+" button-independent-switch-off",K.title=P.independentSwitchToolTip||"";var n=this.$4i(P),W=this.$5i(P);return this.$6i(K),b.setCanvas(K,W,n),K},$7i:function(q){var B=s();B[m]="control-button button-minimize button-minimize-minimize",B.title=q.minimizeToolTip||"";var x=this.$4i(q),d=this.$5i(q);return this.$6i(B),b.setCanvas(B,d,x),B},$55i:function(F){var V=this._config,K=V.items,E=F.separatorWidth||h.panelSeparatorWidth,C=F.titleBackground||h.panelTitleBackground,u=F.expanded!==!1?C:F.separatorColor||h.panelSeparatorColor||h.brighter(C);return(V===F||K&&K.indexOf(F)===K.length-1)&&(E=0),E+A+" solid "+u},$3i:function(X,q){var B=this,J=B._config.flowLayout,w=L(),v=L(),W=B.$4i(X),D=X.titleBackground,G=X.titleColor,k=X.titleIcon,o=X.buttons;if(w[m]="panel-title",r(w,C,"relative"),r(w,"background",D||h.panelTitleBackground),r(w,"color",G||h.panelTitleLabelColor),r(w,S,F),r(w,"box-sizing","border-box"),r(w,"-moz-box-sizing","border-box"),r(w,"padding","0 5px 0 0"),r(w,U,"100%"),r(w,"cursor","default"),r(w,"white-space","nowrap"),r(w,"font",h.panelTitleLabelFont),k){var j=s();j[m]="control-button panel-title-icon";var H=B.$4i(X),Z=B.$5i(X);B.$6i(j),b.setCanvas(j,Z,H),z(w,j)}var e=_("span");r(e,"display","inline-block"),r(e,"margin-left","5px"),e[Y]="<span>"+X.title+"</span>",z(w,e),r(w,"line-height",W+A),v[m]="panel-title-controls",r(v,C,M),r(v,g,F),r(v,O,5+A),r(v,S,F),r(v,P,F),r(v,"text-align",O);var N=function(){var F=B.$9i(X);z(v,F)},E=function(){if(!J&&q&&X.minimizable!==!1){var U=B.$7i(X);z(v,U)}},p=function(){if(!q){var N=B.$8i(X);z(v,N)}},f=function(V){var x=s();x[m]="control-button custombutton-"+V.name,x.title=V.toolTip||"",x._action=V.action;var c=B.$4i(X),M=B.$5i(X);B.$6i(x),b.setCanvas(x,M,c),z(v,x)};if(o)for(var I=0;I<o.length;I++){var l=o[I];"string"==typeof l?"minimize"===l?E():"independentSwitch"===l?p():"toggle"===l&&N():"object"==typeof l&&f(l)}else E(),N();return z(w,v),w},$50i:function(X){var i=L(),o=X.contentHeight,d=L();r(d,C,"relative"),i[m]="panel-body",r(i,"overflow","hidden");var j=X.contentBackground;if(j===u&&(j="white"),r(i,"background",j),r(i,"font",h.panelContentLabelFont),z(i,d),X.content){var $,Z=X.content;Z.getView?(z(d,Z.getView()),$=d.children[0]):Z instanceof Element?(z(d,Z),$=d.children[0]):d[Y]=Z,Z.isSelfViewEvent||$&&(r($,U,"100%"),r($,l,"100%")),o&&r(d,l,o+A)}return i},$10i:function(){var D=this,J=D._config,C=D._view,s=C.querySelector(".resize-area").style;s.display=J.flowLayout||J.minimized===!0||J.expanded===!1?q:"block"},$11i:function(){var g=this._view,p=g.children[1];this.$13i>=0?this.$13i++:this.$13i=1,r(p,i,Z),r(g,K,Z)},$12i:function(){var j=--this.$13i;if(0===j){var f=this._view,o=f.children[1];r(o,i,o.scrollHeight+A),r(f,K,f.offsetWidth+A)}},$14i:function(){var F=this._view,g=F.children[0],I=g.children[1].children,D=this._config,r=0;F.$26i=F.offsetWidth,r+=g.children[0].offsetWidth,D.titleIcon&&(r+=g.children[1].offsetWidth,I=g.children[2].children);for(var R=0;R<I.length;R++){var Y=I[R];r+=Y.offsetWidth+5}F.$51i=r+15},togglePanel:function(j,w,T){function C($){var J=$.target,R=J.parentNode,p=x.getPanelConfig(R.$15i);delete R.$19i,J!==Y&&x.$12i(),x.$18i.fire({kind:"endToggle",target:x,id:p.id})}for(var x=this,D=x._view,Y=D.children[1],J=G,s=x.$35i,E=s.length,N=x._config.exclusive,W=x.$2i,M=[],L=x._config.narrowWhenCollapse,l=0;E>l;l++){var Q=s[l],I=Q.parentNode,b=I.$15i,e=x.getPanelConfig(b);b===j&&(J=I),!w&&N&&e.expanded&&I!==D&&b!==j&&e.independent!==!0&&M.push(I)}if(J&&!J.$19i){J.$19i=!0;var h=J.children[1],R=J.querySelector(".button-toggle"),v=x.getPanelConfig(J.$15i);if(!R)return;J===D||v.expanded||v.independent===!0||M.forEach(function(b){x.togglePanel(b.$15i,!0)}),J!==D&&x.$11i();var B=200;if(T&&(B=0),x.$18i.fire({kind:"beginToggle",target:x,id:J.$15i}),v.expanded){var u=function(){R[m]="control-button button-toggle",R[m]+=W.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",r(h,U,h.clientWidth+A),v.expanded=!1,r(J.children[0],"border-bottom",x.$55i(v)),n(h).duration(B).set("opacity",F).set(i,F).end(C),L&&J===D&&n(J).duration(B).set(K,J.$51i+A).end(),J[m]+=" panel-collapse",n(J).duration(B).set("padding-bottom",F).end(),x.$28i(v,!0),x.$10i()};L&&J===D&&x.$14i(),u()}else R[m]="control-button button-toggle",R[m]+=W.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",r(h,U,Z),v.expanded=!0,r(J.children[0],"border-bottom",x.$55i(v)),n(h).duration(B).set("opacity","1").set(i,h.scrollHeight+A).end(C),L&&J===D&&n(J).duration(B).set(K,(J.$26i||J.offsetWidth)+A).end(),J[m]=J[m].replace(" panel-collapse",Z),n(J).duration(B).end(),x.$28i(v,!0),x.$10i()}},$16i:function(){var R=this._view,K=R.$22i,j=R.$23i,Q=this.$2i;return K==G&&(Q.indexOf(g)>=0?K=R.$22i=0:Q.indexOf(O)>=0&&(K=R.$22i=100)),j==G&&(Q.indexOf("Top")>=0?j=R.$23i=0:Q.indexOf("Bottom")>=0&&(j=R.$23i=100)),[K,j]},$25i:function(){var x=this,e=x._view,N=e.$21i,J=x.$20i(),y=x.$16i(),X=y[0],l=y[1],a=x.$2i;e.children[0].style.display=q,e.children[1].style.display=q,e.children[2].style.display=Z,r(e,"padding",F),r(e,K,J+A),"leftTop"===a?(r(e,g,t(B(e,g))+(N.width-J)*X/100+A),r(e,S,t(B(e,S))+(N.height-J)*l/100+A)):"leftBottom"===a?(r(e,g,t(B(e,g))+(N.width-J)*X/100+A),r(e,P,t(B(e,P))+(N.height-J)*(1-l/100)+A)):"rightTop"===a?(r(e,O,t(B(e,O))+(N.width-J)*(1-X/100)+A),r(e,S,t(B(e,S))+(N.height-J)*l/100+A)):"rightBottom"===a&&(r(e,O,t(B(e,O))+(N.width-J)*(1-X/100)+A),r(e,P,t(B(e,P))+(N.height-J)*(1-l/100)+A)),e[m]+=" panel-minimized",x.$18i.fire({kind:"endMinimize",target:x,id:e.$15i})},$17i:function(){var M=this,u=M._config,$=M._view;r($,"-webkit-transform",Z),r($,"-ms-transform",Z),r($,"transform",Z),u.minimized?M.$25i():(M.$18i.fire({kind:"endRestore",target:M,id:u.id}),$[m]=$[m].replace(" panel-minimized",Z)),delete $.$19i},minimize:function(D){var a=this,L=a._view;if(!L.$19i&&L.children[0].style.display!==q){var g=a._config,l=L.getBoundingClientRect(),J=a.$20i(),S=l.width,h=l.height,$=J/S,c=J/h,O=a.$16i(),t=O[0],x=O[1];L.$52i=$,L.$53i=c,L.$21i=l,a.$18i.fire({kind:"beginMinimize",target:a,id:L.$15i});var z=200;D&&(z=0),g.minimized=!0,L.$19i=!0,g.expanded&&(L.$26i=L.offsetWidth);var U=t+"% "+x+"%";r(L,"-webkit-transform-origin",U),r(L,"-ms-transform-origin",U),r(L,"transform-origin",U),n(L).duration(z).scale($,c).end(function(){a.$17i()}),a.$10i()}},restore:function(){var v,u,i,Q,o,f,l,G,U,z,Z,W,J=this,c=J._view,N=c.parentNode,X=J._config;if(!c.$19i&&X.minimized){var V=c.$21i,M=c.$52i,d=c.$53i,H=(X.borderWidth+A,J.$20i()),L=a(N),b=J.$2i;"leftTop"===b?(v=t(B(c,g)),i=t(B(c,S)),o=v,l=i,U=v+V.width-L.width,z=i+V.height-L.height,U>0&&(U>=v?v=0:v-=U),z>0&&(z>=i?i=0:i-=z),Z=100*((o-v)/(V.width-H)),W=100*((l-i)/(V.height-H)),r(c,g,v+A),r(c,S,i+A)):"leftBottom"===b?(v=t(B(c,g)),Q=t(B(c,P)),o=v,G=Q,U=v+V.width-L.width,z=Q+V.height-L.height,U>0&&(U>=v?v=0:v-=U),z>0&&(z>=Q?Q=0:Q-=z),Z=100*((o-v)/(V.width-H)),W=100*(1-(G-Q)/(V.height-H)),r(c,g,v+A),r(c,P,Q+A)):"rightTop"===b?(u=t(B(c,O)),i=t(B(c,S)),f=u,l=i,U=u+V.width-L.width,z=i+V.height-L.height,U>0&&(U>=u?u=0:u-=U),z>0&&(z>=i?i=0:i-=z),Z=100*(1-(f-u)/(V.width-H)),W=100*((l-i)/(V.height-H)),r(c,O,u+A),r(c,S,i+A)):"rightBottom"===b&&(u=t(B(c,O)),Q=t(B(c,P)),f=u,G=Q,U=u+V.width-L.width,z=Q+V.height-L.height,U>0&&(U>=u?u=0:u-=U),z>0&&(z>=Q?Q=0:Q-=z),Z=100*(1-(f-u)/(V.width-H)),W=100*(1-(G-Q)/(V.height-H)),r(c,O,u+A),r(c,P,Q+A)),c.children[0].style.display="block",c.children[1].style.display="block",c.children[2].style.display=q,r(c,"-webkit-transform","scale("+M+", "+d+")"),r(c,"-ms-transform","scale("+M+", "+d+")"),r(c,"transform","scale("+M+", "+d+")"),c.$22i=Z,c.$23i=W,r(c,"-webkit-transform-origin",Z+"% "+W+"%"),r(c,"-ms-transform-origin",Z+"% "+W+"%"),r(c,"transform-origin",Z+"% "+W+"%"),X.narrowWhenCollapse&&!X.expanded?r(c,K,c.$51i+A):r(c,K,c.$26i+A),J.$18i.fire({kind:"beginRestore",target:J,id:c.$15i}),c.$19i=!0,X.minimized=!1,j(function(){n(c).scale(1,1).end(function(){J.$17i()})},30),J.$10i()}},addEventListener:function(A,V,m){this.$18i.add(A,V,m)},removeEventListener:function(v,O){this.$18i.remove(v,O)},setPosition:function(I,w){var E=this._view,m=this.$2i;"leftTop"===m?(r(E,g,I+A),r(E,S,w+A),r(E,O,Z),r(E,P,Z)):"leftBottom"===m?(r(E,g,I+A),r(E,P,w+A),r(E,O,Z),r(E,S,Z)):"rightTop"===m?(r(E,O,I+A),r(E,S,w+A),r(E,g,Z),r(E,P,Z)):"rightBottom"===m&&(r(E,O,I+A),r(E,P,w+A),r(E,g,Z),r(E,S,Z)),delete E.$22i,delete E.$23i},getPosition:function(){var j=this._view,L=this.$2i;return"leftTop"===L?{x:t(B(j,g)),y:t(B(j,S))}:"leftBottom"===L?{x:t(B(j,g)),y:t(B(j,P))}:"rightTop"===L?{x:t(B(j,O)),y:t(B(j,S))}:"rightBottom"===L?{x:t(B(j,O)),y:t(B(j,P))}:void 0},setPositionRelativeTo:function(N){var l=this,T=l._view.querySelectorAll(".button-toggle"),I="control-button button-toggle",r=l.getPosition();l.$2i=N,l.setPosition(r.x,r.y);for(var a=0;a<T.length;a++){var K=T[a],c=l.getPanelConfig(K.parentNode.parentNode.parentNode.$15i);K[m]=c.expanded?N.indexOf("Bottom")>=0?I+" button-toggle-collapse":I+" button-toggle-expand":N.indexOf("Bottom")>=0?I+" button-toggle-expand":I+" button-toggle-collapse"}l.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(b){var c=this;c._68I||(c._68I=1,h.callLater(c.validate,c,G,b),c.onInvalidated&&c.onInvalidated(),c.fireViewEvent("invalidate"));var q=this._config,l=q.content;l&&l.invalidate&&l.invalidate(),q.items&&q.items.forEach(function(G){G&&G.content&&G.content.invalidate&&G.content.invalidate()})},getIconStretch:function(){var x=this._config.iconStretch||"fill";return x},$27i:function(C,d,_,l,f){var J=b.initContext(C);b.translateAndScale(J,0,0,1),J.clearRect(0,0,_,_);var $=(_-l)/2;h.drawStretchImage(J,h.getImage(d),this.getIconStretch(f),0,$,l,l),J.restore()},$28i:function(O){var W,x,f,D=this,N=O.id,H=D.getPanelView(N),a=H.querySelector(".button-toggle"),T=D.$2i.indexOf("Bottom")>=0;if(x=T?h.panelCollapseIcon:h.panelExpandIcon,f=T?h.panelExpandIcon:h.panelCollapseIcon,a){W=O.expanded?h.getImage(f):h.getImage(x);var Z=D.$4i(O),P=D.$5i(O);D.$27i(a,W,Z,P,"toggle")}},$29i:function(S){var C,r=this,b=S.id,G=r.getPanelView(b),U=G.querySelector(".button-independent-switch"),V=h.panelUnLockIcon,M=h.panelLockIcon;if(U){C=S.independent!==!0?h.getImage(M):h.getImage(V);var i=r.$4i(S),g=r.$5i(S);r.$27i(U,C,i,g,"switch")}},$30i:function(V){var w=this,b=V.id,c=w.getPanelView(b),W=c.querySelector(".button-minimize-minimize"),t=h.panelMinimizeIcon;if(W){var Y=w.$4i(V),Q=w.$5i(V);w.$27i(W,h.getImage(t),Y,Q,"miminize")}},$31i:function(L){var k=this,O=L.id,D=k.getPanelView(O),o=D.querySelector(".button-minimize-restore"),_=L.titleIcon||h.panelRestoreIcon;if(o){var N=k.$20i();k.$27i(o,h.getImage(_),N,N,"restore")}},$32i:function(o){var b=this,z=o.id,x=b.getPanelView(z);if(o.buttons){var w=o.buttons;w.forEach(function(S){var A=S.name,$=S.icon;if(A&&$){var R=x.querySelector(".custombutton-"+A);if(R){var n=b.$4i(o),H=b.$5i(o)-1;b.$27i(R,h.getImage($),n,H,"custom")}}})}},$33i:function(f){var R=this,C=f.id,x=R.getPanelView(C),S=x.querySelector(".panel-title-icon"),O=f.titleIcon;if(S&&O){var G=R.$4i(f),k=R.$5i(f);R.$27i(S,h.getImage(O),G,k,"title")}},validateImpl:function(){var S=this,V=S._config;S.$28i(V),S.$30i(V),S.$31i(V),S.$32i(V),S.$33i(V),V.items&&V.items.forEach(function(g){S.$28i(g),S.$29i(g),S.$32i(g)})}});var V=function(h){var X=this,Z=h.getView();X.$34i=h,X.addListeners(),E(Z,"dblclick",X.$42i.bind(X))};h.def(V,e,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(T){for(var X=this.$34i,v=T.target,q=X.$35i,g=q.length,x=0;g>x;x++){var p=q[x];p.contains(v)&&(T.preventDefault(),X.togglePanel(p.parentNode.$15i))}},handle_touchstart:function(e){var Y=this,I=Y.$34i,u=I._config,Z=u.flowLayout,K=e;if(h.preventDefault(e),h.isLeftButton(e)){var n=e.target,r=I.getView().children[0],g=I.getView().querySelector(".button-minimize-restore");J&&(K=k(e));var O=Y.$40i={x:K.pageX,y:K.pageY};Y.$41i={x:O.x,y:O.y},(!Z&&r.contains(n)||g&&g.contains(n))&&(Y.$38i=!0,h.startDragging(Y,e)),!Z&&Y.handle_mousemove(e)&&(Y.$37i=!0,h.startDragging(Y,e),I.$11i())}},handle_mousedown:function(h){this.handle_touchstart(h)},handle_touchend:function(_){var z=this,K=z.$34i,d=_.target,V=K.$35i,S=V.length,D=0,E=K.getView(),H=E.querySelector(".button-minimize"),O=E.querySelector(".button-minimize-restore");if(!z.$39i&&!z.$36i){if(H&&H.contains(d)||O&&O.contains(d))_.preventDefault(),K._config.minimized?K.restore():K.minimize();else for(;S>D;D++){var y=V[D],s=y.parentNode,N=s.$15i,x=K.getPanelConfig(N),i=y.querySelector(".button-toggle"),Z=y.querySelector(".button-independent-switch");if(i===d)_.preventDefault(),K.togglePanel(N);else if(Z===d){_.preventDefault();var o="button-independent-switch-off",Y="button-independent-switch-on";x.independent=x.independent==G?!0:!x.independent,Z[m]=x.independent?Z[m].replace(o,Y):Z[m].replace(Y,o),K.$29i(x)}else d[m]&&d[m].indexOf("control-button custombutton-")>=0&&y.contains(d)&&d._action.call(K,x,K.getPanelView(N),_)}delete z.$40i,delete z.$41i}},handle_mouseup:function(M){this.handle_touchend(M)},handleWindowTouchEnd:function(){var h=this,f=h.$34i;h.$37i&&h.$36i?(f.$18i.fire({kind:"endResize",target:f,id:f.getView().$15i}),f.$12i()):h.$38i&&h.$39i&&f.$18i.fire({kind:"endMove",target:f,id:f.getView().$15i}),this.clear()},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(b){var j=this,G=j.getView(),w=G.querySelector(".resize-area"),P=w.getBoundingClientRect(),t={x:P.left,y:P.top,width:P.width,height:P.height};b=J?k(b):b;var m=b.clientX,I=b.clientY,K=j.$34i._config;return K.expanded&&K.minimized!==!0&&h.containsPoint(t,{x:m,y:I})?(G.style.cursor="nwse-resize",!0):(G.style.cursor=Z,void 0)},handleWindowTouchMove:function(F){F.preventDefault();var N=F;J&&(N=k(F));var Y=this,y=Y.$40i,u=Y.$41i;if(!(u.x==y.x&&u.y==y.y&&h.getDistance(u,{x:N.pageX,y:N.pageY})<=1)){var m=Y.$34i,$=Y.getView(),V=$.parentNode,z=m._config,K=z.resizeMode||"wh",n=N.pageX-y.x,f=N.pageY-y.y,L=m.$2i;if(Y.$37i){var s=$.children[1].children[0],Q=$.offsetWidth,p=s.offsetHeight,M=Q+n,b=p+f;M=Math.max(M,100),b=Math.max(b,100),"w"===K?(r($,U,M+A),z.width=M):"h"===K?(r(s,l,b+A),z.contentHeight=b):"wh"===K&&(r($,U,M+A),r(s,l,b+A),z.width=M,z.contentHeight=b),L.indexOf("right")>=0&&r($,O,t(B($,O))-(M-Q)+A),L.indexOf("Bottom")>=0&&r($,P,t(B($,P))-(b-p)+A),y.x=N.pageX,y.y=N.pageY;var w=z.content;w&&w.isSelfViewEvent&&(w.setX(0),w.setY(0),w.setWidth(z.width-2*(z.borderWidth||0)),w.setHeight(z.contentHeight)),Y.$36i?m.$18i.fire({kind:"betweenResize",target:m,id:m.getView().$15i}):(Y.$36i=!0,m.$18i.fire({kind:"beginResize",target:m,id:m.getView().$15i}))}else if(Y.$38i){var Z,o,c,d,x,E,R,q,G,i,X=$.getBoundingClientRect(),W=X.width,_=X.height,e=a(V),I=e.width,j=e.height,C=m._dragContainment;"leftTop"===L?(Z=t(B($,g))||0,c=t(B($,S))||0,x=Z+n,R=c+f,"parent"===C&&(x+W>I&&(x=I-W),R+_>j&&(R=j-_),0>x&&(x=0),0>R&&(R=0)),G=x-Z,i=R-c,m.setPosition(x,R),y.x+=G,y.y+=i):"rightBottom"===L?(o=t(B($,O))||0,d=t(B($,P))||0,E=o-n,q=d-f,"parent"===C&&(0>E&&(E=0),0>q&&(q=0),E+W>I&&(E=I-W),q+_>j&&(q=j-_)),G=E-o,i=q-d,m.setPosition(E,q),y.x-=G,y.y-=i):"rightTop"===L?(o=t(B($,O))||0,c=t(B($,S))||0,E=o-n,R=c+f,"parent"===C&&(0>E&&(E=0),0>R&&(R=0),E+W>I&&(E=I-W),R+_>j&&(R=j-_)),G=E-o,i=R-c,m.setPosition(E,R),y.x-=G,y.y+=i):"leftBottom"===L&&(Z=t(B($,g))||0,d=t(B($,P))||0,x=Z+n,q=d-f,"parent"===C&&(0>x&&(x=0),0>q&&(q=0),x+W>I&&(x=I-W),q+_>j&&(q=j-_)),G=x-Z,i=q-d,m.setPosition(x,q),y.x+=G,y.y-=i),Y.$39i?m.$18i.fire({kind:"betweenMove",target:m,id:m.getView().$15i}):(Y.$39i=!0,m.$18i.fire({kind:"beginMove",target:m,id:m.getView().$15i}))}}},handleWindowMouseMove:function(T){this.handleWindowTouchMove(T)}});var w=I.widget.PanelGroup=function(h){var M=this,Y=M._view=b.createView(null,M);Y.style.border="1px dashed black",Y.style.position="absolute",Y.style.background="rgba(120, 120, 120, 0.4)",M.$48i=new I.List,M._tolerance=100,M._config=h||{hGap:0,vGap:0},M.bindHandlePanelMove=M.handlePanelMove.bind(M),M.bindHandlePanelEvent=M.handlePanelEvent.bind(M),M.invalidate()};h.def(w,e,{invalidate:function(){var u=this;u._68I||(u._68I=1,j(function(){u.validate()},50))},validate:function(){if(this._68I){delete this._68I;var t=this.$48i.get(0);if(t){var w=t.getView().parentNode;w&&(this.layoutPanels(w,"leftTop"),this.layoutPanels(w,"rightTop"),this.layoutPanels(w,"leftBottom"),this.layoutPanels(w,"rightBottom"))}}},setLeftTopPanels:function(){var D=this,u=D.$43i,E=D.$48i;u==G&&(u=D.$43i=new I.List);for(var X=0;X<arguments.length;X++){var k=arguments[X];if("string"==typeof k)u.$49i=k;else{if(k._config.flowLayout)continue;k.setPositionRelativeTo("leftTop"),u.contains(k)||u.add(k),E.contains(k)||D.add(k)}}},setRightTopPanels:function(){var D=this,k=D.$44i,l=D.$48i;k==G&&(k=D.$44i=new I.List);for(var g=0;g<arguments.length;g++){var B=arguments[g];if("string"==typeof B)k.$49i=B;else{if(B._config.flowLayout)continue;B.setPositionRelativeTo("rightTop"),k.contains(B)||k.add(B),l.contains(B)||D.add(B)}}},setLeftBottomPanels:function(){var T=this,l=T.$45i,w=T.$48i;l==G&&(l=T.$45i=new I.List);for(var c=0;c<arguments.length;c++){var W=arguments[c];if("string"==typeof W)l.$49i=W;else{if(W._config.flowLayout)continue;W.setPositionRelativeTo("leftBottom"),l.contains(W)||l.add(W),w.contains(W)||T.add(W)}}},setRightBottomPanels:function(){var q=this,N=q.$46i,z=q.$48i;N==G&&(N=q.$46i=new I.List);for(var a=0;a<arguments.length;a++){var D=arguments[a];if("string"==typeof D)N.$49i=D;else{if(D._config.flowLayout)continue;D.setPositionRelativeTo("rightBottom"),N.contains(D)||N.add(D),z.contains(D)||q.add(D)}}},add:function(U){if(!U._config.flowLayout){var N=this,$=N.$48i;$.contains(U)||(U.addEventListener(N.bindHandlePanelMove),U.addEventListener(N.bindHandlePanelEvent),$.add(U))}},remove:function(X){var D=this,b=D.$48i;b.contains(X)&&(X.removeEventListener(D.bindHandlePanelMove),X.removeEventListener(D.bindHandlePanelEvent),b.remove(X),D.$43i.contains(X)&&D.$43i.remove(X),D.$44i.contains(X)&&D.$44i.remove(X),D.$45i.contains(X)&&D.$45i.remove(X),D.$46i.contains(X)&&D.$46i.remove(X))},layoutPanels:function(E,h,V){var l=this,$=l._config,I=$.hGap||0,_=$.vGap||0;if(E){var S=l.$43i;if("leftBottom"===h?S=l.$45i:"rightTop"===h?S=l.$44i:"rightBottom"===h&&(S=l.$46i),!S)return;var K=S.$49i,P=I,J=_;if(E.contains(l._view)&&E.removeChild(l._view),S&&S.size()>0)for(var G=0;G<S.size();G++){var q=S.get(G),f=q.getView();E=E||f.parentNode,V!==G?q.setPosition(P,J):("leftTop"===h?(l._view.style.right="",l._view.style.bottom="",l._view.style.left=P+A,l._view.style.top=J+A):"leftBottom"===h?(l._view.style.right="",l._view.style.top="",l._view.style.left=P+A,l._view.style.bottom=J+A):"rightTop"===h?(l._view.style.left="",l._view.style.bottom="",l._view.style.right=P+A,l._view.style.top=J+A):"rightBottom"===h&&(l._view.style.left="",l._view.style.top="",l._view.style.right=P+A,l._view.style.bottom=J+A),l._view.style.width=f.offsetWidth+A,l._view.style.height=f.offsetHeight+A,E.insertBefore(l._view,f)),"h"===K?P+=f.offsetWidth+I:"v"===K&&(J+=f.offsetHeight+_)}}},handlePanelEvent:function(t){if("beginToggle"===t.kind||"endToggle"===t.kind||"beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind){var v=this,b=t.target,U=b.getView(),B=U.parentNode,S=v.$43i,V=v.$44i,i=v.$45i,m=v.$46i,R=v._config,l=G,Z=G,P=b.$47i;if(P==G&&(P=b.$47i=0),"beginToggle"===t.kind?P=b.$47i=P+1:"endToggle"===t.kind&&(P=b.$47i=P-1),S&&S.contains(b)?(l="leftTop",Z=S):i&&i.contains(b)?(l="leftBottom",Z=i):V&&V.contains(b)?(l="rightTop",Z=V):m&&m.contains(b)&&(l="rightBottom",Z=m),"beginToggle"===t.kind&&l&&1===P){var f=L(),Q=f.style,w=Z.$49i,p="each";Q.fontSize="0",Q.position="absolute",Q.width="100%","leftTop"===l?(Q.left=0,Q.top=0):"leftBottom"===l?(Q.left=0,Q.bottom=0,"v"===w&&(p="reverseEach")):"rightTop"===l?(Q.right=0,Q.top=0,Q.textAlign="right","h"===w&&(p="reverseEach")):"rightBottom"===l&&(Q.right=0,Q.bottom=0,Q.textAlign="right",p="reverseEach"),Z[p](function(k){var O=k.getView(),u=O.style,a=L();u.position="static",a.style.textAlign="left",a.style.position="relative",a.style.display="inline-block","leftTop"===l?(a.style.marginLeft=R.hGap+A,a.style.marginTop=R.vGap+A):"leftBottom"===l?(a.style.marginLeft=R.hGap+A,a.style.marginBottom=R.vGap+A):"rightTop"===l?(a.style.marginRight=R.hGap+A,a.style.marginTop=R.vGap+A):"rightBottom"===l&&(a.style.marginRight=R.hGap+A,a.style.marginBottom=R.vGap+A),a.appendChild(O),f.appendChild(a),"h"===w?a.style.verticalAlign="leftTop"===l||"rightTop"===l?"top":"bottom":f.appendChild(_("br"))}),v.$54i=f,B.appendChild(f)}else"endToggle"===t.kind&&l&&0===P?j(function(){B=B.parentNode.parentNode,B.removeChild(v.$54i),delete v.$54i,Z.each(function(i){var u=i.getView(),b=u.style;b.position="absolute",B.appendChild(u)}),v.layoutPanels(B,l)},30):("beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind)&&l&&v.layoutPanels(B,l)}},handlePanelMove:function(A){if(!(A.kind.indexOf("Move")<0)){var K=this,D=K._config,_=D.hGap||0,w=D.vGap||0,j=A.target,x=j._view,g=x.getBoundingClientRect(),E=g.width,X=g.height,e=E/2,V=X/2,Y=x.parentNode,m=K.$43i,o=K.$44i,z=K.$45i,y=K.$46i,J=Y.getBoundingClientRect(),k=K._tolerance;if("endMove"===A.kind){var c=K._corner;c&&(j.setPositionRelativeTo(c),K.layoutPanels(Y,c)),delete K._corner}if("betweenMove"===A.kind){var R=J.left,Q=J.top,d=J.width,T=J.height,u=g.left+E/2,Z=g.top+X/2;m==G&&(m=K.$43i=new I.List),z==G&&(z=K.$45i=new I.List),o==G&&(o=K.$44i=new I.List),y==G&&(y=K.$46i=new I.List),delete K._corner,m.contains(j)?(m.remove(j),K.layoutPanels(Y,"leftTop")):z.contains(j)?(z.remove(j),K.layoutPanels(Y,"leftBottom")):o.contains(j)?(o.remove(j),K.layoutPanels(Y,"rightTop")):y.contains(j)&&(y.remove(j),K.layoutPanels(Y,"rightBottom"));var U=function(I,f){var z=R+_,C=Q+w;if(0===f.size()){var H=z+e,c=C+V;"leftBottom"===I?c=Q+T-w-V:"rightTop"===I?H=R+d-_-e:"rightBottom"===I&&(H=R+d-_-e,c=Q+T-w-V);var i=u-H,A=Z-c,x=Math.sqrt(i*i+A*A);if(k>x)return K._corner=I,f.add(j),K.layoutPanels(Y,I,0),!0}else if(1===f.size()){var b=f.get(0),a=b.getView().getBoundingClientRect(),W=a.left+e,D=a.top+V,h=a.left+a.width+_+e,N=C+V,L=z+e,F=a.top+a.height+w+V;"leftBottom"===I?(D=a.top+a.height-V,N=Q+T-w-V,F=a.top-w-V):"rightTop"===I?(W=a.left+a.width-e,h=a.left-_-e,L=R+d-_-e):"rightBottom"===I&&(W=a.left+a.width-e,D=a.top+a.height-V,h=a.left-_-e,N=Q+T-w-V,L=R+d-_-e,F=a.top-w-V);var O=u-W,s=Z-D,l=u-h,g=Z-N,q=u-L,v=Z-F,S=t(Math.sqrt(O*O+s*s)),U=t(Math.sqrt(l*l+g*g)),r=t(Math.sqrt(q*q+v*v)),B=[S,U,r];B.sort(function(z,k){return z-k});var $=B[0];if(k>$){if(K._corner=I,$===S)return f.add(j,0),K.layoutPanels(Y,I,0),!0;if($===U)return f.add(j),f.$49i="h",K.layoutPanels(Y,I,1),!0;if($===r)return f.add(j),f.$49i="v",K.layoutPanels(Y,I,1),!0}}else if(f.size()>1){for(var X=G,p={},J=[],M=f.$49i,E=0;E<f.size();E++){var n=f.get(E),y=n.getView(),m=y.getBoundingClientRect(),o=m.left+e,P=m.top+V;"leftBottom"===I?P=m.top+m.height-V:"rightTop"===I?o=m.left+m.width-e:"rightBottom"===I&&(o=m.left+m.width-e,P=m.top+m.height-V),E===f.size()-1&&(X=m);var i=u-o,A=Z-P,x=t(Math.sqrt(i*i+A*A));p[x]=E,J.push(x)}"leftTop"===I&&"h"===M?(H=X.left+X.width+_+e,c=C+V):"leftTop"===I&&"v"===M?(H=z+e,c=X.top+X.height+w+V):"leftBottom"===I&&"h"===M?(H=X.left+X.width+_+e,c=Q+T-w-V):"leftBottom"===I&&"v"===M?(H=z+e,c=X.top-w-V):"rightTop"===I&&"h"===M?(H=X.left-_-e,c=C+V):"rightTop"===I&&"v"===M?(H=R+d-_-e,c=X.top+X.height+w+V):"rightBottom"===I&&"h"===M?(H=X.left-_-e,c=Q+T-w-V):"rightBottom"===I&&"v"===M&&(H=R+d-_-e,c=X.top-w-V),i=u-H,A=Z-c,x=t(Math.sqrt(i*i+A*A)),p[x]=E,J.push(x),J.sort(function(W,l){return W-l});var $=J[0];if(k>$)return K._corner=I,f.add(j,p[$]),K.layoutPanels(Y,I,p[$]),!0}};U("leftTop",m)||U("leftBottom",z)||U("rightTop",o)||U("rightBottom",y)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);