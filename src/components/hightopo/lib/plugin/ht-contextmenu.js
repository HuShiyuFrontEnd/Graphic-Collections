!function(w,b){"use strict";var o="ht",x=w[o],v="position",Y="absolute",l="px",V="left",G="top",S="innerHTML",E="className",D="width",j="height",k="0",i="display",e="none",L="visibility",J="user-select",H="margin",A="padding",M=null,K=x.Color,T=x.Default,X=T.getInternal(),y=w.setTimeout,r=w.setInterval,B=w.clearTimeout,t=w.clearInterval,I=w.parseInt,q=T.isLeftButton,d=T.isDragging,p=T.startDragging,P=T.getDistance,c=T.isTouchable,W=K.widgetIconHighlight,m=K.widgetIconBorder,C=K.widgetIconGradient,N=function(){return document},F=function(v,Q){return v.querySelectorAll(Q)},U=function(C){var I=N().createElement(C);return"ul"===C&&(R(I,v,"relative"),R(I,H,k),R(I,A,k),R(I,"list-style",e),R(I,"box-sizing","border-box"),R(I,"-moz-box-sizing","border-box"),R(I,i,"inline-block"),R(I,"vertical-align","text-bottom"),R(I,"border","1px solid "+T.contextMenuBorderColor),R(I,"box-shadow","0 0 16px 1px "+T.contextMenuShadowColor),R(I,"overflow","hidden"),T.contextMenuBorderRadius&&R(I,"border-radius",T.contextMenuBorderRadius+l)),I},Q=function(x){var b=x.touches[0];return b?b:x.changedTouches[0]},g=function(){return U("div")},Z=function(){return U("canvas")},R=function(s,$,G){s.style.setProperty($,G,M)},a=function(b,L,t){T.def(x.widget[b],L,t)},u=function(M,W){M.appendChild(W)},$=function(B,i){B.removeChild(i)},O=T.eventListenerOptionsFalse,n=(T.eventListenerOptionsTrue,function(g,Q,r,n){g.addEventListener(Q,r,n?O:O)}),f=function(H,t,P,j){H.removeEventListener(t,P,j?O:O)};X.addMethod(T,{contextMenuCheckIcon:{width:16,height:16,comps:[{type:"border",rect:[1,1,14,14],width:1,color:m},{type:"shape",points:[13,3,7,12,4,8],borderWidth:2,borderColor:W}]},contextMenuRadioIcon:{width:16,height:16,comps:[{type:"circle",rect:[2,2,12,12],borderWidth:1,borderColor:m},{type:"circle",rect:[4,4,8,8],borderWidth:1,borderColor:W,gradient:T.imageGradient,gradientColor:C,background:W}]},contextMenuLabelFont:(c?"16":"13")+"px arial, sans-serif",contextMenuLabelColor:"#000",contextMenuBackground:"#fff",contextMenuDisabledLabelColor:"#888",contextMenuHoverBackground:"#648BFE",contextMenuHoverLabelColor:"#fff",contextMenuSeparatorWidth:1,contextMenuSeparatorColor:"#E5E5E5",contextMenuScrollerColor1:"#FDFDFD",contextMenuScrollerColor2:"#D3D3D3",contextMenuScrollerBorderColor:"#C3C3C3",contextMenuBorderColor:"#C3C3C3",contextMenuShadowColor:"rgba(128, 128, 128, 0.5)",contextMenuBorderRadius:5,contextMenuSubmenuMark:"▶"},!0);var z=function(Z){var j=this,o=Z._view;if(j.$11b=Z,j.addListeners(),n(o,"contextmenu",function(Z){Z.preventDefault()}),!c){var X=j.$37b=j.$36b.bind(j);n(o,"mouseover",X),n(o,"mouseout",X)}};T.def(z,b,{ms_listener:1,getView:function(){return this.$11b._view},handle_touchstart:function(a){if(T.preventDefault(a),q(a)){for(var t=this,B=t.$11b,Z=t.getView(),$=Z.children,E=0;E<$.length;E++){var o=$[E],N=o.$24b,A=o.$25b;if(N&&N.contains(a.target))return B.scrollUp(o),t.$28b=y(function(){t.$29b=r(function(){B.scrollUp(o)},100)},500),p(t,a),void 0;if(A&&A.contains(a.target))return B.scrollDown(o),t.$28b=y(function(){t.$29b=r(function(){B.scrollDown(o)},100)},500),p(t,a),void 0}c&&(a=Q(a)),t.$30b={x:a.pageX,y:a.pageY}}},handle_mousedown:function(Y){this.handle_touchstart(Y)},handle_touchend:function(s){if(q(s)){var J=this,$=J.$30b,L=c?{x:Q(s).pageX,y:Q(s).pageY}:{x:s.pageX,y:s.pageY};if(!$||P($,L)>1)return delete J.$30b,void 0;for(var W=J.getView(),i=J.$11b,y=s.target,n=M,x=M,e=i._items,h=W.$26b,H=0;H<h.length;H++)if(x=h[H],x.contains(y)){n=x.getAttribute("data-id");break}if(n&&e){var r=i.$17b(e,function(d){return d._id===n});if(r){var m=!1;r.disabled instanceof Function?m=r.disabled.call(i,r):r.disabled===!0&&(m=!0),m||(r.items?c&&J.$36b(x,!0):i.$1b(r,s))}}delete J.$30b}},$36b:function(B,p){if(!d()){var H,J=this,Y=J.$11b,O=J.getView(),C=Y.$20b||O.children[0],Z=Y.$19b,P=O.$26b,f=O.children,o=B.target,X=O.getBoundingClientRect(),m=T.getWindowInfo(),e=m.width,$=m.height,z=function(J){for(var Z=0;Z<f.length;Z++){var C=f[Z],L=new RegExp(J+"$"),N=C[E];if(N&&(L.test(N)||N.indexOf(J+" ")>=0))return C}},t=function(r){for(var J=0;J<P.length;J++){var y=P[J],Q=new RegExp(r+"$"),T=y[E];if(T&&(Q.test(T)||T.indexOf(r+" ")>=0))return y}},A=function(Q){var m=t("menu-item"+Q.$45b),L=m.getBoundingClientRect(),E=L.top-X.top,k=L.left-X.left;R(Q,G,E+l),R(Q,V,k+L.width+l);var s=Q.getBoundingClientRect(),a=s.top,J=s.left,B=s.height,n=s.width,Z=a+B+2,I=J+n+2;Z>$&&R(Q,G,E+$-Z+l),I>e&&R(Q,V,k-n+l)};if(p)H=B;else{if("mouseover"===B.type){for(var a=0;a<P.length;a++){var y=P[a];if(y.contains(o)){H=y;break}}if(!H&&Z){var u=Z.parentNode,q=z("submenu"+Z.getAttribute("data-id"));(q&&q.contains(o)||u&&u.contains(o))&&(H=Z)}}else if("mouseout"===B.type){for(var F=!1,h=B.relatedTarget,a=0;a<f.length;a++){var M=f[a];if("hidden"!==M.style.visibility&&M.contains(h)){F=!0;break}}if(F)return}!H&&C&&(H=t("menu-item"+(C.$45b||"NaN")))}if(H!=Z){if(Z)for(var i=Z;i;){if(i[E]=i[E].replace(" menu-item-hover",""),i[E].indexOf("disabled")<0){var U=Y.getItemByProperty("_id",i.getAttribute("data-id"));null!=U.background?U.background instanceof Function?R(i,"background-color",U.background.call(Y,U)):R(i,"background-color",U.background):R(i,"background-color",T.contextMenuBackground),R(i,"color",T.contextMenuLabelColor)}var v=z("submenu"+i.getAttribute("data-id"));v&&R(v,L,"hidden");var x=i.parentNode;i=t("menu-item"+(x.$45b||"NaN"))}if(H){for(var S=H,j=[];S;){S[E]+=" menu-item-hover",S[E].indexOf("disabled")<0&&(R(S,"background-color",T.contextMenuHoverBackground),R(S,"color",T.contextMenuHoverLabelColor));var r=z("submenu"+S.getAttribute("data-id"));r&&(R(r,L,"visible"),j.push(r));var x=S.parentNode;S=t("menu-item"+(x.$45b||"NaN"))}j.reverse(),j.forEach(function(L){A(L)})}}Y.$19b=H,Y.$20b=H?H.parentNode:O.children[0]}},handle_mouseup:function(y){this.handle_touchend(y)},handleWindowTouchEnd:function(){var x=this;x.$28b!=M&&(B(x.$28b),delete x.$28b),x.$29b!=M&&(t(x.$29b),delete x.$29b),delete x.$34b,delete x.$30b,delete x.$35b},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(R){this.handle_touchmove(R)},handle_touchmove:function(u){if(!d()&&q(u)){for(var Z=this,y=Z.getView().children,Y=M,g=0;g<y.length;g++){var m=y[g];if(m.contains(u.target)){Y=m;break}}var S=Z.$30b,s=c?{x:Q(u).pageX,y:Q(u).pageY}:{x:u.pageX,y:u.pageY};Y&&S&&P(S,s)>2&&(p(Z,u),Z.$34b=Y,Z.$35b=Y.$18b)}},handleWindowTouchMove:function(U){U.preventDefault();var e=this,q=e.$11b,z=e.$34b,V=e.$35b,v=e.$30b;if(v&&z){var b=c?{x:Q(U).pageX,y:Q(U).pageY}:{x:U.pageX,y:U.pageY},T=b.y-v.y;T>0?q.scrollUp(z,z.$18b-(V-T)):q.scrollDown(z,V-T-z.$18b)}},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)},$10b:function(D,E){D.preventDefault();for(var m=this,i=m.getView().children,y=M,w=0;w<i.length;w++){var H=i[w];if(H.contains(D.target)){y=H;break}}if(y){var n=this.$11b,Z=n.getRowHeight();Math.abs(E)>.05&&(E>0?n.scrollUp(y,E*Z):0>E&&n.scrollDown(y,-E*Z))}},handle_mousewheel:function(c){this.$10b(c,c.wheelDelta/40)},handle_DOMMouseScroll:function(y){this.$10b(y,-y.detail)},$44b:function(T){this.getView().contains(T.target)||this.$11b.hide()},$41b:function(s){this.$11b.show(s)},$4b:function(C,o){var I=this.$11b;if(o=o||I._items,o&&o.length&&C.keyCode){var q=[C.keyCode];C.shiftKey&&q.push(16),C.ctrlKey&&q.push(17),C.altKey&&q.push(18),/mac/.test(w.navigator?w.navigator.userAgent.toLowerCase():"")?C.metaKey&&q.push(17):C.metaKey&&q.push(91),q.sort();var O=q.join(),n=I.$17b(o,function(t){if(t.key){var X=t.key.slice(0);return X.sort(),O===X.join()}});if(n){n.preventDefault!==!1&&C.preventDefault();var B=!1;n.disabled instanceof Function?B=n.disabled.call(I,n):n.disabled===!0&&(B=!0),B||I.$1b(n,C)}}},$39b:function(L){var s=this,O=Q(L);s.$32b={x:O.pageX,y:O.pageY}},$38b:function(c){var o=this,F=Q(c);o.$31b={x:F.pageX,y:F.pageY},o.$33b=y(function(){o.$31b&&(o.$32b?P(o.$31b,o.$32b)<10&&o.$11b.show(c):o.$11b.show(c)),delete o.$33b,delete o.$31b,delete o.$32b},600)},$40b:function(){var K=this;K.$33b!=M&&(B(K.$33b),delete K.$33b,delete K.$31b,delete K.$32b)}}),x.widget.ContextMenu=function(B){var j=this,t=j._view=X.createView(null,j);t[E]="ht-widget-contextmenu",j.setItems(B),j.$13b=new z(j),R(t,"font",T.contextMenuLabelFont),R(t,v,Y),R(t,"cursor","default"),R(t,"-webkit-"+J,e),R(t,"-moz-"+J,e),R(t,"-ms-"+J,e),R(t,J,e),R(t,"box-sizing","border-box"),R(t,"-moz-box-sizing","border-box"),T.baseZIndex!=M&&R(t,"z-index",I(T.baseZIndex)+2+""),j.$3b=function(e){j.$13b.$4b(e)}},a("ContextMenu",b,{$5b:0,_items:M,$21b:M,_enableGlobalKey:!1,ms_v:1,enableGlobalKey:function(){var $=this,t=$._enableGlobalKey;t===!1&&(n(N(),"keydown",$.$3b),$._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,f(N(),"keydown",this.$3b)},setItems:function(q){this._items=q},getItems:function(){return this._items},setVisibleFunc:function(b){this.$16b=b},setLabelMaxWidth:function(T){this.$43b=T},$1b:function(d,b){var M=this;if("check"===d.type)d.selected=!d.selected;else if("radio"===d.type){var p=d.groupId;M.$17b(M._items,function(h){h.groupId===p&&(h.selected=!1)}),d.selected=!0}if(M.hide(),d.action)d.action.apply(d.scope||M,[d,b]);else if(d.href){var r=d.linkTarget||"_self";w.open(d.href,r)}},getItemById:function(v){return this.getItemByProperty("id",v)},setItemVisible:function(Q,h){var R=this.getItemById(Q);R&&(R.visible=h)},getItemByProperty:function(f,k,q){var m=this;if(q=q||m._items,!q||0===q.length)return M;var P=m.$17b(q,function(N){return N[f]===k});return P||M},scrollUp:function(a,R){var h=this;if(R=R==M?20:R,R=I(R),0!==R){var $=0;a.$18b>R&&($=a.$18b-R),h.$42b(a,$),a.scrollTop=$,a.$18b=$}},scrollDown:function(y,K){var C=this;if(K=K==M?20:K,K=I(K),0!==K){var z=y.$22b,g=y.$23b,L=z-g;g+y.$18b+K<z&&(L=y.$18b+K),C.$42b(y,L),y.scrollTop=L,y.$18b=L}},$42b:function(Y,L){L=L==M?Y.$18b:L;var X=Y.$24b,J=Y.$25b;X&&(R(X,"top",L+l),0==L?R(X,i,e):R(X,i,"block")),J&&(R(J,"bottom",-L+l),L==Y.$22b-Y.$23b?R(J,i,e):R(J,i,"block"))},getRowHeight:function(){return this._view.querySelector(".menu-item").offsetHeight},$17b:function(x,U){for(var j=0;j<x.length;j++){var _=x[j];if(U(_))return _;if(_.items){var V=this.$17b(_.items,U);if(V)return V}}},$2b:function(V,I){for(var G=this,f=0;f<V.length;f++){G.$5b++;var K=V[f];if(K.visible!==!1&&!(T.isFunction(K.visible)&&K.visible()===!1||G.$16b&&!G.$16b.call(G,K))){var B=U("li"),c=G.$5b+"";if(R(B,"white-space","nowrap"),R(B,i,"block"),"separator"===K||K.separator===!0){var h=g();h[E]="separator",R(h,j,T.contextMenuSeparatorWidth+l),R(h,"background",T.contextMenuSeparatorColor),u(B,h)}else{K._id=c,B.setAttribute("data-id",c);var m=U("span"),q=U("span"),$=Z(),W=g();if(R(m,i,"inline-block"),R(m,j,"1.2em"),R(q,i,"inline-block"),R(q,j,"1.2em"),R(q,"line-height","1.2em"),$[E]="prefix",R($,i,"inline-block"),R($,D,"1em"),R($,j,"1em"),R($,"vertical-align","middle"),R($,H,"0 0.2em"),"check"===K.type&&K.selected?$[E]+=" check-prefix":"radio"===K.type&&K.selected&&($[E]+=" radio-prefix"),u(B,$),K.icon){var F=Z();F[E]="contextmenu-item-icon",R(F,i,"inline-block"),R(F,j,"1.2em"),R(F,D,"1.2em"),R(F,"margin-right","0.2em"),R(F,"float","left"),F.$50b=K.icon,F._item=K,u(m,F)}if(q[S]=K.label,u(m,q),u(B,m),W[E]="suffix",R(W,i,"inline-block"),R(W,"margin-left","1em"),R(W,"margin-right","0.4em"),R(W,"text-align","right"),R(W,"font-size","75%"),K.items&&(W[S]=T.contextMenuSubmenuMark),K.suffix&&(W[S]=K.suffix),u(B,W),B[E]="menu-item menu-item"+c,null!=K.background?K.background instanceof Function?R(B,"background-color",K.background.call(G,K)):R(B,"background-color",K.background):R(B,"background-color",T.contextMenuBackground),R(B,"color",T.contextMenuLabelColor),R(B,A,"3px 0"),K.disabled instanceof Function){var N=K.disabled.call(G,K);N&&(B[E]+=" disabled",R(B,"color",T.contextMenuDisabledLabelColor))}else K.disabled&&(B[E]+=" disabled",R(B,"color",T.contextMenuDisabledLabelColor));if(K.items){G.$21b||(G.$21b=new x.List);var o=U("ul");o[E]="submenu"+c,o.$45b=c,R(o,L,"hidden"),R(o,v,Y),u(G._view,o),G.$21b.add(o),G.$2b(K.items,o)}}u(I,B)}}},rebuild:function(){var A=this,J=A._items,W=A._view;if(W&&(W[S]="",A.$21b=M,A.$5b=0,A.$19b=M,A.$20b=M,W.$26b=M,J&&0!==J.length)){var H=U("ul",A._r);u(W,H),A.$2b(J,H)}},addTo:function(X){if(X){var Z=this,f=Z.$13b;if(Z.$12b=X,Z.$9b=function(K){f.$44b(K)},Z.$27b=function(z){f.$41b(z)},c){var g=Z.$6b=function(z){f.$38b(z)},m=Z.$7b=function(Y){f.$39b(Y)},o=Z.$8b=function(H){f.$40b(H)};n(X,"touchstart",g,!0),n(X,"touchmove",m),n(X,"touchend",o)}else n(X,"contextmenu",Z.$27b)}},showOnView:function(e,m,x){e=e.getView?e.getView():e;var G=T.getWindowInfo(),i=e.getBoundingClientRect();this.show(i.left+G.left+m,i.top+G.top+x)},show:function(_,I,H){var b=this,H=H==M?!0:!1,W=b._view;if(W){if(b.invalidate(),1===arguments.length){var B=_;if(c){var j=Q(B);_=j.pageX,I=j.pageY}else _=B.pageX,I=B.pageY}var O=T.getWindowInfo(),r=O.width,f=O.height,t=O.left,K=O.top,q={pageX:_,pageY:I,clientX:_-t,clientY:I-K,target:1,originEvent:B},w=q.clientX,m=q.clientY,y=function(q){q.style.height=f-6+l;var Z=g(),p=g(),n=function(b){R(b,v,Y),R(b,"text-align","center"),R(b,D,"100%"),R(b,"font-size",10+l),R(b,"padding","2px 0"),R(b,"border","0px solid "+T.contextMenuScrollerBorderColor),R(b,"background-color",T.contextMenuScrollerColor1),b.style.backgroundImage="-webkit-linear-gradient(top, "+T.contextMenuScrollerColor1+", "+T.contextMenuScrollerColor2+")",b.style.backgroundImage="linear-gradient(to bottom, "+T.contextMenuScrollerColor1+", "+T.contextMenuScrollerColor2+")"};Z[E]="menu-arrow-item menu-arrow-item-top",p[E]="menu-arrow-item menu-arrow-item-bottom",n(Z),R(Z,"top",k),R(Z,"left",k),R(Z,"border-bottom-width",1+l),Z[S]="▲",n(p),R(p,"bottom",k),R(p,"left",k),R(p,"border-top-width",1+l),p[S]="▼",q.$24b=Z,q.$25b=p,q.$18b=q.scrollTop,q.$22b=q.scrollHeight,q.$23b=q.clientHeight,u(q,Z),u(q,p),b.$42b(q)};b.beforeShow&&b.beforeShow(q);var J=b._items;if(J&&(B&&B.preventDefault(),J.length)){b.rebuild(),T.appendToScreen(W),W.$26b=F(W,".menu-item");var P=W.children[0];P.offsetHeight>f&&y(P);var h=m+(H?1:0),p=w+(H?1:0),o=function(s){for(var P=0,T=0,G=0,p=b.$43b;G<s.children.length;G++){var F=s.children[G];if(F.getAttribute("data-id")){var E=F.children[1],u=F.children[2],O=E.children;if(p){var X=O[0];O.length>1&&(X=O[1]),X.offsetWidth>p&&(X[S]="<marquee scrollamount='3'>"+X[S]+"</marquee>",X.children[0].style.verticalAlign="text-bottom",R(X,D,p+l),R(X,i,"inline-block"))}var H=E.offsetWidth,z=u.offsetWidth;H>P&&(P=H),z>T&&(T=z)}}for(G=0;G<s.children.length;G++){var F=s.children[G];if(F.getAttribute("data-id")){var E=F.children[1],u=F.children[2],Y=E.children[0],d=E.children[1];!d&&Y.style.width&&R(Y,D,P+l),R(E,D,P+l),R(u,D,T+l)}}};o(P);var a=m+3+W.offsetHeight,e=w+3+W.offsetWidth;a>f?R(W,G,h-(a-f)+K+l):R(W,G,h+K+l),e>r?R(W,V,p-(e-r)+t+l):R(W,V,p+t+l);var x=b.$21b;x&&x.each(function(S){o(S),S.offsetHeight>f&&y(S)}),b.$9b&&n(N(),c?"touchstart":"mousedown",b.$9b,!0),b.afterShow&&b.afterShow(q),b.$47b()}}},isShowing:function(){return this._view?this._view.parentNode!=M:!1},getRelatedView:function(){return this.$12b},hide:function(){var n=this,z=n._view;z&&z.parentNode&&($(z.parentNode,z),f(N(),c?"touchstart":"mousedown",n.$9b,!0),n.afterHide&&n.afterHide())},dispose:function(){var E=this,R=E.$12b,I=E._view;I&&(I.parentNode&&$(I.parentNode,I),E.disableGlobalKey(),R&&(c?(f(R,"touchstart",E.$6b,!0),f(R,"touchmove",E.$7b),f(R,"touchend",E.$8b)):f(R,"contextmenu",E.$27b)),E._view=E._items=E.$21b=E.$19b=E.$12b=E.beforeShow=E.afterShow=E.afterHide=E.$9b=E.$3b=E.$6b=E.$7b=E.$8b=E.$27b=M)},$46b:function(Q,c,o,Y,S){var J=X.initContext(Q);X.translateAndScale(J,0,0,1),J.clearRect(0,0,o,Y),T.drawStretchImage(J,T.getImage(c),"fill",0,0,o,Y,S,this),J.restore()},$47b:function(){var o,k,N,w=this,U=w._view;if(w.isShowing()){var p=F(U,".check-prefix");for(N=0;N<p.length;N++){var A=p[N];o=A.clientWidth,k=A.clientHeight,A.$48b=o,A.$49b=k,X.setCanvas(A,o,k)}var f=F(U,".radio-prefix");for(N=0;N<f.length;N++){var H=f[N];o=H.clientWidth,k=H.clientHeight,H.$48b=o,H.$49b=k,X.setCanvas(H,o,k)}var z=F(U,".contextmenu-item-icon");for(N=0;N<z.length;N++){var W=z[N];o=W.clientWidth,k=W.clientHeight,W.$48b=o,W.$49b=k,X.setCanvas(W,o,k)}}},validateImpl:function(){var p,U,r,P=this,w=P._view;if(P.isShowing()){var f=F(w,".check-prefix");for(r=0;r<f.length;r++){var l=f[r];p=l.$48b,U=l.$49b,p&&U&&P.$46b(l,T.contextMenuCheckIcon,p,U)}var W=F(w,".radio-prefix");for(r=0;r<W.length;r++){var h=W[r];p=h.$48b,U=h.$49b,p&&U&&P.$46b(h,T.contextMenuRadioIcon,p,U)}var c=F(w,".contextmenu-item-icon");for(r=0;r<c.length;r++){var m=c[r];p=m.$48b,U=m.$49b,p&&U&&P.$46b(m,T.getImage(m.$50b),p,U,m._item)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);