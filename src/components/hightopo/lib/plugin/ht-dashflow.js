!function(Q){"use strict";var b="ht",u=Q[b],S=u.Default,g=Math,O=(g.PI,g.sin,g.cos,g.atan2,g.sqrt,g.max),R=g.floor,x=(g.round,g.ceil),y=u.Shape,G=(u.Edge,u.List),p=u.Style,k=u.graph,v=S.getInternal(),$=v.ui(),V=null,T="prototype",C=Q.clearInterval,h=Q.setInterval,s=function(Y){var f=Y.data,T=this.dm();if(f&&"add"===Y.kind){var D=T.$1c,$=f instanceof y?"shape.":"edge.";D&&f.s($+"dash.flow")&&D.indexOf(f)<0&&D.push(f)}"clear"===Y.kind&&(T.$1c=[])},W=function(R){var e=R.property,r=R.data,q=R.newValue,c=this.dm().$1c,Y=r instanceof y?"s:shape.dash.flow":"s:edge.dash.flow";if(c&&e===Y)if(q)c.indexOf(r)<0&&c.push(r);else for(var Q=c.length,X=0;Q>X;X++)if(c[X]===r){c.splice(X,1);break}},i=k.GraphView[T],a=$.EdgeUI[T],d=$.ShapeUI[T],o=d._80o,D=a._80o,X=u.DataModel[T],j=X.prepareRemove,E=i.setDataModel;p["edge.dash.flow.step"]==V&&(p["edge.dash.flow.step"]=3),p["shape.dash.flow.step"]==V&&(p["shape.dash.flow.step"]=3),X.prepareRemove=function(l){j.call(this,l);var S=l._dataModel,t=S.$1c;if(t)for(var V=t.length,I=0;V>I;I++)if(t[I]===l){t.splice(I,1);break}},i.setDataModel=function(N){var I=this,O=I._dataModel;if(O!==N){O&&(O.umm(s,I),O.umd(W,I),O.$1c=[]),N.mm(s,I),N.md(W,I);var D=N.$1c=[];N.each(function(E){var r=E instanceof y?"shape.":"edge.";E.s(r+"dash.flow")&&D.indexOf(E)<0&&D.push(E)}),E.call(I,N)}},i.setDashFlowInterval=function($){var d=this,E=d.$2c;d.$2c=$,d.fp("dashFlowInterval",E,$),d.$3c!=V&&(C(d.$3c),delete d.$3c,d.enableDashFlow($))},i.getDashFlowInterval=function(){return this.$2c},i.$4c=function(){var s,z,l,t=this,M=t.tx(),g=t.ty(),m=t._zoom,Y=t.getWidth(),W=t.getHeight(),C={x:-M/m,y:-g/m,width:Y/m,height:W/m},e=t.dm().$1c,I=t._56I,c=new G;if(e.forEach(function(V){I[V.getId()]&&(s=t.getDataUI(V),s&&(l=s._79o(),l&&c.add(l)))}),0!==c.size()&&(c.each(function(O){S.intersectsRect(C,O)&&(z=S.unionRect(z,O))}),z&&(z&&(S.grow(z,O(1,1/m)),z.x=R(z.x*m)/m,z.y=R(z.y*m)/m,z.width=x(z.width*m)/m,z.height=x(z.height*m)/m,z=S.intersection(C,z)),z))){var F=t._canvas.getContext("2d");F.save(),F.lineCap=S.lineCap,F.lineJoin=S.lineJoin,v.translateAndScale(F,M,g,m),F.beginPath(),F.rect(z.x,z.y,z.width,z.height),F.clip(),F.clearRect(z.x,z.y,z.width,z.height),t.$5c(F,z),F.restore()}},i.$5c=function(t,e){var G,T,L=this;L._93db(t),L.each(function(v){L._56I[v._id]&&(G=L.getDataUI(v),G&&(T=G._79o(),(!e||S.intersectsRect(e,T))&&(G.$7c=!0,G._42(t),delete G.$7c)))}),L._92db(t)},i.enableDashFlow=function(t){var z=this;z.$3c==V&&(z.$3c=h(function(){z.$4c()},t||z.$2c||50))},i.disableDashFlow=function(){var A=this;C(A.$3c),delete A.$3c};var L=function(){var s=this,r=s._data,b=r instanceof y?"shape.":"edge.",A=r.s(b+"dash.pattern"),k=r.s(b+"dash.flow.reverse");if(A&&r.s(b+"dash")&&r.s(b+"dash.flow")&&s.$7c){var F=s.s(b+"dash.offset")||0,X=r.s(b+"dash.flow.step"),H=r.getStyleMap(),P=0;A.forEach(function(f){P+=f}),k&&(X=-X),F-=X,F%=P,H||(r._styleMap=H={}),H[b+"dash.offset"]=F}};a._80o=function(H){D.call(this,H),L.call(this)},d._80o=function(Y){o.call(this,Y),L.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);