!function(q,G,D){"use strict";var d="ht",x=q[d],l=null,Q=Math,i=Q.abs,n=Q.max,K=Number.MAX_VALUE,f=x.Default,z=f.getInternal(),A=f.clone,E=z.vec3TransformMat4,j=z.appendArray,o=function(){var d=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,M=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,y=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,w=function(p,i){return i=parseInt(i),i>=0?p[i-1]:p[i+p.length]},q=function(y,P,U,e,V,t){if(y.vs){var v=w(P,e),G=w(P,V),x=w(P,t),n=U.matrix,d=y.vs;if(U.flipFace){var J=G;G=x,x=J}n?(j(d,E(A(v),n)),j(d,E(A(G),n)),j(d,E(A(x),n))):(j(d,v),j(d,G),j(d,x))}},L=function(P,y,N,L,H,q){if(P.vs){var i=w(y,L),A=w(y,H),z=w(y,q),Y=N.flipY;if(N.flipFace){var c=A;A=z,z=c}P.uv.push(i[0],Y?1-i[1]:i[1],A[0],Y?1-A[1]:A[1],z[0],Y?1-z[1]:z[1])}},v=function(u,O,o,d,_,B){if(u.vs){var g=w(O,d),z=w(O,_),i=w(O,B),a=o.normalMatrix,e=u.ns;if(o.flipFace){var I=z;z=i,i=I}a?(j(e,E(A(g),a)),j(e,E(A(z),a)),j(e,E(A(i),a))):(j(e,g),j(e,z),j(e,i))}},o=function(c,d,r,m,G,g,Y,z){var A=m&&m.length&&z;g[3]===D?(q(c,d,G,g[0],g[1],g[2]),Y&&L(c,r,G,Y[0],Y[1],Y[2]),A&&v(c,m,G,z[0],z[1],z[2])):(q(c,d,G,g[0],g[1],g[3]),q(c,d,G,g[1],g[2],g[3]),Y&&(L(c,r,G,Y[0],Y[1],Y[3]),L(c,r,G,Y[1],Y[2],Y[3])),A&&(v(c,m,G,z[0],z[1],z[3]),v(c,m,G,z[1],z[2],z[3])))},x=function(o,f,Q,E){var S,l,W,M,F,H,Z,J=K,w=K,L=K,I=-K,s=-K,N=-K;for(S in o)for(H=o[S].vs,Z=H.length,l=0;Z>l;l+=3)W=H[l+0],M=H[l+1],F=H[l+2],J>W&&(J=W),w>M&&(w=M),L>F&&(L=F),W>I&&(I=W),M>s&&(s=M),F>N&&(N=F);if(Q){var x=J+(I-J)/2,r=w+(s-w)/2,X=L+(N-L)/2;for(S in o)for(H=o[S].vs,Z=H.length,l=0;Z>l;l+=3)H[l+0]-=x,H[l+1]-=r,H[l+2]-=X}var R,A,a;Q?(R=I-J,A=s-w,a=N-L):(R=2*n(i(J),i(I)),A=2*n(i(w),i(s)),a=2*n(i(L),i(N))),E.rawS3=[R,A,a];for(S in o){if(H=o[S].vs,f)for(Z=H.length,l=0;Z>l;l+=3)R&&(H[l+0]/=R),A&&(H[l+1]/=A),a&&(H[l+2]/=a);o[S].rawS3=E.rawS3}};return function(B,e,T){if(!B)return l;(z.isString(e)||e instanceof ArrayBuffer)&&(e=k(e)),T||(T={}),T.flipY==l&&(T.flipY=!0),(T.s3||T.r3||T.t3||T.mat)&&(T.matrix=z.createWorldMatrix(T.mat,T.s3,T.r3,T.rotationMode,T.t3));var I,H,g,N,r,n,m=[],K=[],F=T.ignoreNormal?l:[],S=T.reverseFlipMtls,P={vs:[],uv:[],ns:F?[]:l},i={htdefault:P},s=new p(B);for(F&&T.matrix&&(T.normalMatrix=z.createNormalMatrix(T.matrix));null!=(H=s.stepNext());)if(H=H.trim(),0!==H.length&&"#"!==H.charAt(0))if(g=d.exec(H))m.push([parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])]);else if(g=M.exec(H))K.push([parseFloat(g[1]),parseFloat(g[2])]);else if(F&&(g=y.exec(H)))T.flipFace?F.push([parseFloat(-g[1]),parseFloat(-g[2]),parseFloat(-g[3])]):F.push([parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])]);else if("f"===H[0]){var q=H.split(/\s+/);if(q.length<4)continue;var E,I,Y,L=[],X=[],A=[];for(I=1,Y=q.length;Y>I;I++)E=q[I].split("/"),L.push(parseInt(E[0],10)),E.length>1&&E[1].length>0&&A.push(parseInt(E[1],10)),E.length>2&&E[2].length>0&&X.push(parseInt(E[2],10));for(I=0,Y=L.length-2;Y>I;I++)o(P,m,K,F,T,[L[0],L[I+1],L[I+2]],A.length?[A[0],A[I+1],A[I+2]]:l,X.length?[X[0],X[I+1],X[I+2]]:l)}else if(/^usemtl /.test(H)&&(N=H.substring(7).trim(),!(P=i[N]))){if(P={name:N,vs:[],uv:[],ns:F?[]:l},T.ignoreMtls&&T.ignoreMtls.indexOf(N)>=0&&delete P.vs,(T.reverseFlip||"*"===S||S&&S.indexOf(N)>=0)&&(P.reverseFlip=!0),e&&(r=e[N],r&&(T.ignoreColor||(P.color=r.kd),!T.ignoreTransparent&&r.d>0&&r.d<1&&(P.transparent=!0,P.opacity=r.d),!T.ignoreImage&&(n=r.map_kd)))){n=n.split(" ");var O=-1;for(I=0;I<n.length;I++)"-o"===n[I]?(P.uvOffset=[parseFloat(n[I+1]),parseFloat(n[I+2])],I+=2,O=I):"-s"===n[I]&&(P.uvScale=[parseFloat(n[I+1]),parseFloat(n[I+2])],I+=2,O=I);P.image=(T.prefix||"")+n.splice(O+1).join(" ")}i[N]=P}var h=[];for(var Q in i){var u=i[Q].vs;u&&0!==u.length||h.push(Q)}h.forEach(function(B){delete i[B]}),x(i,T.cube,T.center,T);var a=T.shape3d;if(a){var R=[];for(var N in i){var P=i[N];R.rawS3=P.rawS3,R.push(P)}f.setShape3dModel(a,R)}return i}}(),k=function($){var m={};if($)for(var d,s,C,t,N,O,Y=new p($),A=/\s+/;null!=(s=Y.stepNext());)s=s.trim(),0!==s.length&&"#"!==s.charAt(0)&&(C=s.indexOf(" "),t=(C?s.substring(0,C):s).toLowerCase(),N=(C?s.substring(C+1):"").trim(),"newmtl"===t?m[N]=d={name:N}:d&&("ka"===t||"kd"===t||"ks"===t?(O=N.split(A,3),d[t]=[parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2]),1]):d[t]="ns"===t||"d"===t?parseFloat(N):N));return m},p=function(x){var h=this;if(x instanceof ArrayBuffer){h.isBuffer=!0;var k=0,B=new Uint8Array(x),E=B.length,V=B.length;h.stepNext=function(){for(var j,T,i=k;E>k;)if(j=B[k],T=j>>4,12===T||13==T)k+=2;else if(14===T)k+=3;else if(k++,10===j)return String.fromCharCode.apply(null,B.subarray(i,k));return k>i?String.fromCharCode.apply(null,B.subarray(i,k)):null}}else{h.isBuffer=!1;var D=x.split("\n"),t=0,V=D.length;h.stepNext=function(){return V>t?D[t++]:null}}};p.prototype={},p.prototype.constructor=p,z.addMethod(f,{loadObj:function(c,C,g){g=g||{};var B=!1;/(MSIE |Trident\/|Edge\/)/.test(q.navigator.userAgent)&&(B=!0);var X=function(Y){var G,K=g.finishFunc,u=g.shape3d,S=Y?o(Y[0],Y[1],g):null;if(S){if(u)G=f.getShape3dModel(u);else{G=[];for(var Z in S){var H=S[Z];G.rawS3=H.rawS3,G.push(H)}}K&&K(S,G,G.rawS3)}else K&&K(null)};if(B){var P=function(k){g.responseType="arraybuffer",f.xhrLoad(c,function(p){X([p,k])},g)};C?f.xhrLoad(C,function(M){P(M)},g):P()}else f.xhrLoad(C?[c,C]:[c],X,g)},parseObj:function(E,Y,z){return o(E,Y,z)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);