!function(G,C,V){"use strict";var H="ht",A=G[H],w=null,r=Math,J=r.PI,i=r.cos,k=r.sin,B=r.abs,Y=r.max,y=r.sqrt,p=1e-5,E=A.Default,u=E.def,R=E.startAnim,Q=E.createMatrix,K=E.transformVec,M=E.getInternal(),b=M.addMethod,x=M.superCall,f=M.toPointsArray,e=M.createNormals,d=M.toFloatArray,Z=M.glMV,t=M.batchShape,S=M.createNodeMatrix,I=M.getFaceInfo,h=M.transformAppend,L=M.drawFaceInfo,$=M.createAnim,X=M.cube(),o=X.is,z=X.vs,W=X.uv,U=M.ui(),n=A.Node,D=A.Shape,m="h",c="v",N="front",j="back",_="left",l="right",v="top",F="bottom",T="dw.expanded",q=".expanded",O="dw.angle",P=".angle",g=function(r,c,m){u(H+"."+r,c,m)},a=function(X,V,S){S?X.push(V.x,V.y):X.push(V.x,V.y,V.z)},s=[1,0,0],Ni=function(H,b,Z,e){var W,E,T,K,B=0,d=[];if(e)for(W=e.length;W>B;B+=3)E=e[B],T=e[B+1],K=e[B+2],d.push(new lr([new ac([b[3*E],b[3*E+1],b[3*E+2]],s,Z?[Z[2*E],Z[2*E+1],0]:w),new ac([b[3*T],b[3*T+1],b[3*T+2]],s,Z?[Z[2*T],Z[2*T+1],0]:w),new ac([b[3*K],b[3*K+1],b[3*K+2]],s,Z?[Z[2*K],Z[2*K+1],0]:w)],H));else for(W=b.length;W>B;B+=3)E=B,T=B+1,K=B+2,d.push(new lr([new ac([b[3*E],b[3*E+1],b[3*E+2]],s,Z?[Z[2*E],Z[2*E+1],0]:w),new ac([b[3*T],b[3*T+1],b[3*T+2]],s,Z?[Z[2*T],Z[2*T+1],0]:w),new ac([b[3*K],b[3*K+1],b[3*K+2]],s,Z?[Z[2*K],Z[2*K+1],0]:w)],H));return d},es=[_,N,l,j,v,F],vc=es.concat("csg"),Dn=[0,6,12,18,24,30],ji=function(D,E,P){for(var Y=S(D),p=[],q=0;6>q;q++)for(var T=es[q],$=Dn[q],x=P?E.getFaceUv(D,T):w,X=P?E.getFaceUvScale(D,T):w,g=P?E.getFaceUvOffset(D,T):w,V=0;2>V;V++){var L,l,k,e=o[$+3*V],t=o[$+3*V+1],b=o[$+3*V+2];if(P){if(x){var h=8*q;L=[x[2*e-h],x[2*e+1-h],0],l=[x[2*t-h],x[2*t+1-h],0],k=[x[2*b-h],x[2*b+1-h],0]}else L=[W[2*e],W[2*e+1],0],l=[W[2*t],W[2*t+1],0],k=[W[2*b],W[2*b+1],0];X&&(L[0]*=X[0],L[1]*=X[1],l[0]*=X[0],l[1]*=X[1],k[0]*=X[0],k[1]*=X[1]),g&&(L[0]+=g[0],L[1]+=g[1],l[0]+=g[0],l[1]+=g[1],k[0]+=g[0],k[1]+=g[1])}p.push(new lr([new ac(K([z[3*e],z[3*e+1],z[3*e+2]],Y),s,L),new ac(K([z[3*t],z[3*t+1],z[3*t+2]],Y),s,l),new ac(K([z[3*b],z[3*b+1],z[3*b+2]],Y),s,k)],D))}return Rr.$15n(p)},Sl=function(n,i){var j,v=n.data.getAttaches();if(v&&v.each(function(t){t instanceof ep&&t.s("attach.operation")&&(j||(j=[]),j.push(t))}),j){var u;es.forEach(function(g){var I=Ni(g,n[g].vs,n[g].tuv);u=u?u.concat(I):I}),u=Rr.$15n(u),j.forEach(function(v){var N=v.s("attach.operation");u[N]&&(u=u[N](ji(v,n.gv,n.csg.tuv)))}),es.forEach(function(R){R=n[R],R.vs=[],R.tuv&&(R.tuv=[])}),u.$19n().forEach(function(O){var L=O.$10n;if(L instanceof ep){if(L.s("attach.cull"))return;L="csg"}for(var Q=n[L],i=Q.vs,o=Q.tuv,w=O.$9n,c=2;c<w.length;c++)a(i,w[0].$24n),a(i,w[c-1].$24n),a(i,w[c].$24n),o&&(a(o,w[0].uv,!0),a(o,w[c-1].uv,!0),a(o,w[c].uv,!0))})}vc.forEach(function(W){var c=n[W];c.visible&&c.vs.length?(c.ns=e(c.vs),d(c,"vs"),d(c,"tuv")):delete n[W]}),i&&(t(n,w,i),n.clear())};b(E,{createFrameModel:function(e,q,u,P){e=e==w?.07:e,q=q==w?e:q,u=u==w?e:u,P=P?P:{};var J=P.top,V=P.bottom,U=P.left,m=P.right,Q=P.front,x=P.back,l=[],I=[];return Q===!0?(l.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),I.push(0,0,0,1,1,1,1,1,1,0,0,0)):Q===!1||(l.push(-.5,.5,.5,-.5,-.5,.5,-.5+e,-.5,.5,-.5+e,-.5,.5,-.5+e,.5,.5,-.5,.5,.5,.5-e,.5,.5,.5-e,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-e,.5,.5,-.5+e,.5,.5,-.5+e,.5-q,.5,.5-e,.5-q,.5,.5-e,.5-q,.5,.5-e,.5,.5,-.5+e,.5,.5,-.5+e,-.5+q,.5,-.5+e,-.5,.5,.5-e,-.5,.5,.5-e,-.5,.5,.5-e,-.5+q,.5,-.5+e,-.5+q,.5),I.push(0,0,0,1,e,1,e,1,e,0,0,0,1-e,0,1-e,1,1,1,1,1,1,0,1-e,0,e,0,e,q,1-e,q,1-e,q,1-e,0,e,0,e,1-q,e,1,1-e,1,1-e,1,1-e,1-q,e,1-q)),x===!0?(l.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),I.push(1,0,0,1,1,1,0,1,1,0,0,0)):x===!1||(l.push(-.5,.5,-.5,-.5+e,-.5,-.5,-.5,-.5,-.5,-.5+e,-.5,-.5,-.5,.5,-.5,-.5+e,.5,-.5,.5-e,.5,-.5,.5,-.5,-.5,.5-e,-.5,-.5,.5,-.5,-.5,.5-e,.5,-.5,.5,.5,-.5,-.5+e,.5,-.5,.5-e,.5-q,-.5,-.5+e,.5-q,-.5,.5-e,.5-q,-.5,-.5+e,.5,-.5,.5-e,.5,-.5,-.5+e,-.5+q,-.5,.5-e,-.5,-.5,-.5+e,-.5,-.5,.5-e,-.5,-.5,-.5+e,-.5+q,-.5,.5-e,-.5+q,-.5),I.push(1,0,1-e,1,1,1,1-e,1,1,0,1-e,0,e,0,0,1,e,1,0,1,e,0,0,0,1-e,0,e,q,1-e,q,e,q,1-e,0,e,0,1-e,1-q,e,1,1-e,1,e,1,1-e,1-q,e,1-q)),U===!0?(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),I.push(0,0,0,1,1,1,1,1,1,0,0,0)):U===!1||(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+u,-.5,-.5,-.5+u,-.5,.5,-.5+u,-.5,.5,-.5,-.5,.5,.5-u,-.5,-.5,.5-u,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-u,-.5,.5,-.5+u,-.5,.5-q,-.5+u,-.5,.5-q,.5-u,-.5,.5-q,.5-u,-.5,.5,.5-u,-.5,.5,-.5+u,-.5,-.5+q,-.5+u,-.5,-.5,-.5+u,-.5,-.5,.5-u,-.5,-.5,.5-u,-.5,-.5+q,.5-u,-.5,-.5+q,-.5+u),I.push(0,0,0,1,u,1,u,1,u,0,0,0,1-u,0,1-u,1,1,1,1,1,1,0,1-u,0,u,0,u,q,1-u,q,1-u,q,1-u,0,u,0,u,1-q,u,1,1-u,1,1-u,1,1-u,1-q,u,1-q)),m===!0?(l.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),I.push(1,0,0,1,1,1,0,1,1,0,0,0)):m===!1||(l.push(.5,.5,-.5,.5,-.5,-.5+u,.5,-.5,-.5,.5,-.5,-.5+u,.5,.5,-.5,.5,.5,-.5+u,.5,.5,.5-u,.5,-.5,.5,.5,-.5,.5-u,.5,-.5,.5,.5,.5,.5-u,.5,.5,.5,.5,.5,-.5+u,.5,.5-q,.5-u,.5,.5-q,-.5+u,.5,.5-q,.5-u,.5,.5,-.5+u,.5,.5,.5-u,.5,-.5+q,-.5+u,.5,-.5,.5-u,.5,-.5,-.5+u,.5,-.5,.5-u,.5,-.5+q,-.5+u,.5,-.5+q,.5-u),I.push(1,0,1-u,1,1,1,1-u,1,1,0,1-u,0,u,0,0,1,u,1,0,1,u,0,0,0,1-u,0,u,q,1-u,q,u,q,1-u,0,u,0,1-u,1-q,u,1,1-u,1,u,1,1-u,1-q,u,1-q)),J===!0?(l.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),I.push(1,1,1,0,0,0,0,0,0,1,1,1)):J===!1||(l.push(.5,.5,.5,.5,.5,-.5,.5-e,.5,-.5,.5-e,.5,-.5,.5-e,.5,.5,.5,.5,.5,-.5+e,.5,.5,-.5+e,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+e,.5,.5,.5-e,.5,.5,.5-e,.5,.5-u,-.5+e,.5,.5-u,-.5+e,.5,.5-u,-.5+e,.5,.5,.5-e,.5,.5,.5-e,.5,-.5+u,.5-e,.5,-.5,-.5+e,.5,-.5,-.5+e,.5,-.5,-.5+e,.5,-.5+u,.5-e,.5,-.5+u),I.push(1,1,1,0,1-e,0,1-e,0,1-e,1,1,1,e,1,e,0,0,0,0,0,0,1,e,1,1-e,1,1-e,1-u,e,1-u,e,1-u,e,1,1-e,1,1-e,u,1-e,0,e,0,e,0,e,u,1-e,u)),V===!0?(l.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),I.push(1,0,0,1,1,1,0,1,1,0,0,0)):V===!1||(l.push(.5,-.5,.5,.5-e,-.5,-.5,.5,-.5,-.5,.5-e,-.5,-.5,.5,-.5,.5,.5-e,-.5,.5,-.5+e,-.5,.5,-.5,-.5,-.5,-.5+e,-.5,-.5,-.5,-.5,-.5,-.5+e,-.5,.5,-.5,-.5,.5,.5-e,-.5,.5,-.5+e,-.5,.5-u,.5-e,-.5,.5-u,-.5+e,-.5,.5-u,.5-e,-.5,.5,-.5+e,-.5,.5,.5-e,-.5,-.5+u,-.5+e,-.5,-.5,.5-e,-.5,-.5,-.5+e,-.5,-.5,.5-e,-.5,-.5+u,-.5+e,-.5,-.5+u),I.push(1,0,1-e,1,1,1,1-e,1,1,0,1-e,0,e,0,0,1,e,1,0,1,e,0,0,0,1-e,0,e,u,1-e,u,e,u,1-e,0,e,0,1-e,1-u,e,1,1-e,1,e,1,1-e,1-u,e,1-u)),{vs:l,uv:I}}}),b(A.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":V,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":J/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),es.forEach(function(Y){var E={};E[Y+q]=!1,E[Y+".toggleable"]=!1,E[Y+".axis"]=_,E[Y+".start"]=0,E[Y+".end"]=J/2,E[Y+P]=0,b(A.Style,E,!0)});var Rr=function(){this.$4n=[]};Rr.$15n=function(I){var s=new Rr;return s.$4n=I,s},Rr.prototype={clone:function(){var R=new Rr;return R.$4n=this.$4n.map(function(N){return N.clone()}),R},$19n:function(){return this.$4n},union:function(i){var W=new Nd(this.clone().$4n),L=new Nd(i.clone().$4n);return W.$3n(L),L.$3n(W),L.$6n(),L.$3n(W),L.$6n(),W.$7n(L.$2n()),Rr.$15n(W.$2n())},subtract:function(P){var w=new Nd(this.clone().$4n),v=new Nd(P.clone().$4n);return w.$6n(),w.$3n(v),v.$3n(w),v.$6n(),v.$3n(w),v.$6n(),w.$7n(v.$2n()),w.$6n(),Rr.$15n(w.$2n())},intersect:function(r){var B=new Nd(this.clone().$4n),T=new Nd(r.clone().$4n);return B.$6n(),T.$3n(B),T.$6n(),B.$3n(T),T.$3n(B),B.$7n(T.$2n()),B.$6n(),Rr.$15n(B.$2n())},inverse:function(){var t=this.clone();return t.$4n.map(function(R){R.flip()}),t}},Rr.cube=function(P){P=P||{};var B=new Ip(P.center||[0,0,0]),$=P.radius?P.radius.length?P.radius:[P.radius,P.radius,P.radius]:[1,1,1];return Rr.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(k){return new lr(k[0].map(function(x){var U=new Ip(B.x+$[0]*(2*!!(1&x)-1),B.y+$[1]*(2*!!(2&x)-1),B.z+$[2]*(2*!!(4&x)-1));return new ac(U,new Ip(k[1]))}))}))},Rr.sphere=function(K){function x(P,d){P*=2*J,d*=J;var L=new Ip(i(P)*k(d),i(d),k(P)*k(d));G.push(new ac(f.$20n(L.$21n(Q)),L))}K=K||{};for(var G,f=new Ip(K.center||[0,0,0]),Q=K.radius||1,m=K.slices||16,T=K.stacks||8,H=[],A=0;m>A;A++)for(var L=0;T>L;L++)G=[],x(A/m,L/T),L>0&&x((A+1)/m,L/T),T-1>L&&x((A+1)/m,(L+1)/T),x(A/m,(L+1)/T),H.push(new lr(G));return Rr.$15n(H)},Rr.cylinder=function(F){function D(q,m,Z){var T=2*m*J,S=I.$21n(i(T)).$20n(s.$21n(k(T))),L=P.$20n(W.$21n(q)).$20n(S.$21n(E)),f=S.$21n(1-B(Z)).$20n(C.$21n(Z));return new ac(L,f)}F=F||{};for(var P=new Ip(F.start||[0,-1,0]),Z=new Ip(F.end||[0,1,0]),W=Z.$13n(P),E=F.radius||1,N=F.slices||16,C=W.$14n(),e=B(C.y)>.5,I=new Ip(e,!e,0).$12n(C).$14n(),s=I.$12n(C).$14n(),S=new ac(P,C.$11n()),z=new ac(Z,C.$14n()),j=[],u=0;N>u;u++){var U=u/N,b=(u+1)/N;j.push(new lr([S,D(0,U,-1),D(0,b,-1)])),j.push(new lr([D(0,b,0),D(0,U,0),D(1,U,0),D(1,b,0)])),j.push(new lr([z,D(1,b,1),D(1,U,1)]))}return Rr.$15n(j)};var Ip=function(Z,F,e){var P=this;3==arguments.length?(P.x=Z,P.y=F,P.z=e):"x"in Z?(P.x=Z.x,P.y=Z.y,P.z=Z.z):(P.x=Z[0],P.y=Z[1],P.z=Z[2])};Ip.prototype={clone:function(){return new Ip(this.x,this.y,this.z)},$11n:function(){return new Ip(-this.x,-this.y,-this.z)},$20n:function(O){return new Ip(this.x+O.x,this.y+O.y,this.z+O.z)},$13n:function(T){return new Ip(this.x-T.x,this.y-T.y,this.z-T.z)},$21n:function(x){return new Ip(this.x*x,this.y*x,this.z*x)},$16n:function(c){return new Ip(this.x/c,this.y/c,this.z/c)},$23n:function(X){return this.x*X.x+this.y*X.y+this.z*X.z},lerp:function($,h){return this.$20n($.$13n(this).$21n(h))},length:function(){return y(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(p){var j=this;return new Ip(j.y*p.z-j.z*p.y,j.z*p.x-j.x*p.z,j.x*p.y-j.y*p.x)}};var ac=function(O,U,i){var F=this;F.$24n=new Ip(O),F.$22n=new Ip(U),F.uv=i?new Ip(i):null};ac.prototype={clone:function(){var u=this;return new ac(u.$24n.clone(),u.$22n.clone(),u.uv?u.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(I,J){var c=this;return new ac(c.$24n.lerp(I.$24n,J),c.$22n.lerp(I.$22n,J),c.uv?c.uv.lerp(I.uv,J):null)}};var Gb=function(V,K){this.$22n=V,this.w=K};Gb.$17n=function(D,$,E){var U=$.$13n(D).$12n(E.$13n(D)).$14n();return new Gb(U,U.$23n(D))},Gb.prototype={clone:function(){return new Gb(this.$22n.clone(),this.w)},flip:function(){var w=this;w.$22n=w.$22n.$11n(),w.w=-w.w},$5n:function(r,q,J,a,g){for(var l=this,w=0,O=1,t=2,k=3,D=0,y=[],H=0;H<r.$9n.length;H++){var d=l.$22n.$23n(r.$9n[H].$24n)-l.w,f=-p>d?t:d>p?O:w;D|=f,y.push(f)}switch(D){case w:(l.$22n.$23n(r.$8n.$22n)>0?q:J).push(r);break;case O:a.push(r);break;case t:g.push(r);break;case k:for(var n=[],W=[],H=0;H<r.$9n.length;H++){var P=(H+1)%r.$9n.length,x=y[H],u=y[P],h=r.$9n[H],b=r.$9n[P];if(x!=t&&n.push(h),x!=O&&W.push(x!=t?h.clone():h),(x|u)==k){var d=(l.w-this.$22n.$23n(h.$24n))/l.$22n.$23n(b.$24n.$13n(h.$24n)),C=h.$18n(b,d);n.push(C),W.push(C.clone())}}n.length>=3&&a.push(new lr(n,r.$10n)),W.length>=3&&g.push(new lr(W,r.$10n))}}};var lr=function(Z,Q){var A=this;A.$9n=Z,A.$10n=Q,A.$8n=Gb.$17n(Z[0].$24n,Z[1].$24n,Z[2].$24n)};lr.prototype={clone:function(){var f=this.$9n.map(function(C){return C.clone()});return new lr(f,this.$10n)},flip:function(){this.$9n.reverse().map(function(X){X.flip()}),this.$8n.flip()}};var Nd=function(u){var K=this;K.$8n=null,K.front=null,K.back=null,K.$4n=[],u&&K.$7n(u)};Nd.prototype={clone:function(){var g=this,P=new Nd;return P.$8n=g.$8n&&g.$8n.clone(),P.front=g.front&&g.front.clone(),P.back=g.back&&g.back.clone(),P.$4n=g.$4n.map(function(c){return c.clone()}),P},$6n:function(){for(var i=this,S=0;S<i.$4n.length;S++)i.$4n[S].flip();i.$8n.flip(),i.front&&i.front.$6n(),i.back&&i.back.$6n();var _=i.front;i.front=i.back,i.back=_},$1n:function($){var t=this;if(!t.$8n)return $.slice();for(var q=[],l=[],P=0;P<$.length;P++)t.$8n.$5n($[P],q,l,q,l);return t.front&&(q=t.front.$1n(q)),l=t.back?t.back.$1n(l):[],q.concat(l)},$3n:function(s){var p=this;p.$4n=s.$1n(p.$4n),p.front&&p.front.$3n(s),p.back&&p.back.$3n(s)},$2n:function(){var n=this,G=n.$4n.slice();return n.front&&(G=G.concat(n.front.$2n())),n.back&&(G=G.concat(n.back.$2n())),G},$7n:function(x){var h=this;if(x.length){h.$8n||(h.$8n=x[0].$8n.clone());for(var o=[],y=[],I=0;I<x.length;I++)this.$8n.$5n(x[I],h.$4n,h.$4n,o,y);o.length&&(h.front||(h.front=new Nd),this.front.$7n(o)),y.length&&(h.back||(h.back=new Nd),h.back.$7n(y))}}};var Mk="symbol",Vq=A.Symbol=function($,E,O){var X=this;x(Vq,X),X.s3(20,20,20),X.s({"all.visible":!1,shape:"rect"}),X.setIcon($,E,O)};g("Symbol",n,{setIcon:function(z,g,k){var A,V=this;return Vq.superClass.setIcon.call(V,z),z?(A={for3d:!0,face:"center",position:44,names:[z]},k&&(A.transaprent=!0),g&&(A.autorotate=g),V.addStyleIcon(Mk,A)):V.removeStyleIcon(Mk),V.setWidth(M.getImageWidth(E.getImage(z),V)||20),A}});var ep=A.CSGNode=function(){x(ep,this),this.s({shape:"rect","attach.thickness":1.001})},dl={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};g("CSGNode",n,{_22Q:function(){return Or},onPropertyChanged:function(l){var c=this,o=c.getHost();ep.superClass.onPropertyChanged.call(c,l),dl[l.property]&&(o instanceof sb||o instanceof ep)&&o.fp("csgNodeChange",!0,!1)}});var Or=function(r,w){x(Or,this,[r,w])};u(Or,U.Node3dUI,{_80o:function(b,j,T){var c=this;c._shape3d?Or.superClass._80o.call(c,b,j,T):(Z(c.gv),vc.forEach(function(X){L(c,b,j,c[X],T)}))},validate:function(b,I){var N=this,$=N.gv,g=N.data;if(g.s("shape3d"))return Or.superClass.validate.call(N,b,I),N._shape3d=!0,void 0;N._shape3d=!1;var k=S(g,$.getMat(g)),r=b&&b.uv;N.vf2("csg",r);for(var l=0;6>l;l++)for(var J=es[l],V=Dn[l],v=N.vf2(J,r,I),x=v.mat||k,d=v.vs,p=v.uv,G=v.tuv,E=0;2>E;E++){var C=o[V+3*E],P=o[V+3*E+1],F=o[V+3*E+2];if(h(d,x,[z[3*C],z[3*C+1],z[3*C+2]]),h(d,x,[z[3*P],z[3*P+1],z[3*P+2]]),h(d,x,[z[3*F],z[3*F+1],z[3*F+2]]),G)if(p){var w=8*l;G.push(p[2*C-w],p[2*C+1-w],p[2*P-w],p[2*P+1-w],p[2*F-w],p[2*F+1-w])}else G.push(W[2*C],W[2*C+1],W[2*P],W[2*P+1],W[2*F],W[2*F+1])}Sl(N,b,I)},vf2:function(s,e,A){var L,o=this,r=o.gv.getFaceVisible(o.data,s);return L=I(o,s,A),L.vs=[],L.tuv=r&&(L.texture||e)?[]:w,L.visible=r,L}});var sb=A.CSGShape=function(){var F=this;x(sb,F),F.s({"shape.background":w,"shape.border.width":8}),F.setTall(240),F.setElevation(120),F.setThickness(14)};g("CSGShape",D,{IRotatable:!1,_22Q:function(){return zl},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var zl=function(Y,M){x(zl,this,[Y,M])};u(zl,U.Shape3dUI,{_80o:function(M,o,m){var u=this;u.undrawable||(Z(u.gv),vc.forEach(function(H){L(u,M,o,u[H],m)}))},validate:function(d,A){var m=this,D=m.data,T=D.getPoints();if(m.undrawable=T.size()<2)return m.clear(),void 0;var g=D.isClosePath(),L=Y(D._thickness/2,p),k=f(T,w,w,g);vc.forEach(function(q){m.vf(q,d&&d.uv,!0,A)}),g&&(m.left.visible=!1,m.right.visible=!1),m._12O(k,L),m._20Q(k),Sl(m,d,A)}});var Id=A.DoorWindow=function(){var b=this;x(Id,b),b.setElevation(100),b.s3(100,200,14)};g("DoorWindow",ep,{IDoorWindow:!0,toggle:function(U){this.setExpanded(!this.s(T),U)},isExpanded:function(){return this.s(T)},setExpanded:function(N,n){var J=this,V=J.$25n,L=J.getDataModel(),E=J.s(T);if(V&&(V.stop(!0),delete J.$25n),E!==N){L&&L.beginTransaction();var D=N?J.s("dw.end"):J.s("dw.start");J.s(T,N),n=$(n),n?(E=J.s(O),n.action=function(G){J.s(O,E+(D-E)*G)},n.finishFunc=function(){L&&L.endTransaction()},J.$25n=R(n)):(J.s(O,D),L&&L.endTransaction())}},getMat:function(){var x=this,W=x.s("dw.s3"),p=x.s("dw.t3"),L=x.s("dw.flip"),y=x.s(O);if(W||y||p||L){var D=[];if(L&&D.push({r3:[0,J,0]}),W&&D.push({s3:W}),y){W=x.s3();var X=x.s("dw.axis"),$=W[0]/2,Y=W[1]/2;W[2]/2,X===_?D.push({t3:[$,0,0]},{r3:[0,-y,0]},{t3:[-$,0,0]}):X===l?D.push({t3:[-$,0,0]},{r3:[0,y,0]},{t3:[$,0,0]}):X===v?D.push({t3:[0,-Y,0]},{r3:[-y,0,0]},{t3:[0,Y,0]}):X===F?D.push({t3:[0,Y,0]},{r3:[y,0,0]},{t3:[0,-Y,0]}):X===c?D.push({r3:[0,y,0]}):X===m&&D.push({r3:[y,0,0]})}return p&&D.push({t3:p}),Q(D)}return w}});var qo=A.CSGBox=function(){var I=this;x(qo,I),I.setElevation(100),I.s3(100,200,100)};g("CSGBox",ep,{ICSGBox:!0,toggleFace:function(X,T){this.setFaceExpanded(X,!this.s(X+q),T)},isFaceExpanded:function(M){return this.s(M+q)},setFaceExpanded:function(X,j,p){var Q=this,e=Q.$25n,v=Q.s(X+q);if(e&&(e.stop(!0),delete Q.$25n),v!==j){var z=j?Q.s(X+".end"):Q.s(X+".start");Q.s(X+q,j),p=$(p),p?(v=Q.s(X+P),p.action=function(t){Q.s(X+P,v+(z-v)*t)},Q.$25n=R(p)):Q.s(X+P,z)}},getFaceMat:function(K){var b=this,V=b.s(K+P);if(!V)return w;var A=b.s(K+".axis"),o=b.s3(),y=o[0]/2,e=o[1]/2,U=o[2]/2,S=[];return K===N&&(A===_?S.push({t3:[y,0,-U]},{r3:[0,-V,0]},{t3:[-y,0,U]}):A===l?S.push({t3:[-y,0,-U]},{r3:[0,V,0]},{t3:[y,0,U]}):A===v?S.push({t3:[0,-e,-U]},{r3:[-V,0,0]},{t3:[0,e,U]}):A===F?S.push({t3:[0,e,-U]},{r3:[V,0,0]},{t3:[0,-e,U]}):A===c?S.push({t3:[0,0,-U]},{r3:[0,V,0]},{t3:[0,0,U]}):A===m&&S.push({t3:[0,0,-U]},{r3:[V,0,0]},{t3:[0,0,U]})),K===j&&(A===_?S.push({t3:[-y,0,U]},{r3:[0,-V,0]},{t3:[y,0,-U]}):A===l?S.push({t3:[y,0,U]},{r3:[0,V,0]},{t3:[-y,0,-U]}):A===v?S.push({t3:[0,-e,U]},{r3:[V,0,0]},{t3:[0,e,-U]}):A===F?S.push({t3:[0,e,U]},{r3:[-V,0,0]},{t3:[0,-e,-U]}):A===c?S.push({t3:[0,0,U]},{r3:[0,V,0]},{t3:[0,0,-U]}):A===m&&S.push({t3:[0,0,U]},{r3:[V,0,0]},{t3:[0,0,-U]})),K===_&&(A===_?S.push({t3:[y,0,U]},{r3:[0,-V,0]},{t3:[-y,0,-U]}):A===l?S.push({t3:[y,0,-U]},{r3:[0,V,0]},{t3:[-y,0,U]}):A===v?S.push({t3:[y,-e,0]},{r3:[0,0,-V]},{t3:[-y,e,0]}):A===F?S.push({t3:[y,e,0]},{r3:[0,0,V]},{t3:[-y,-e,0]}):A===c?S.push({t3:[y,0,0]},{r3:[0,V,0]},{t3:[-y,0,0]}):A===m&&S.push({t3:[y,0,0]},{r3:[0,0,V]},{t3:[-y,0,0]})),K===l&&(A===_?S.push({t3:[-y,0,-U]},{r3:[0,-V,0]},{t3:[y,0,U]}):A===l?S.push({t3:[-y,0,U]},{r3:[0,V,0]},{t3:[y,0,-U]}):A===v?S.push({t3:[-y,-e,0]},{r3:[0,0,V]},{t3:[y,e,0]}):A===F?S.push({t3:[-y,e,0]},{r3:[0,0,-V]},{t3:[y,-e,0]}):A===c?S.push({t3:[-y,0,0]},{r3:[0,V,0]},{t3:[y,0,0]}):A===m&&S.push({t3:[-y,0,0]},{r3:[0,0,V]},{t3:[y,0,0]})),K===v&&(A===_?S.push({t3:[y,-e,0]},{r3:[0,0,V]},{t3:[-y,e,0]}):A===l?S.push({t3:[-y,-e,0]},{r3:[0,0,-V]},{t3:[y,e,0]}):A===v?S.push({t3:[0,-e,U]},{r3:[-V,0,0]},{t3:[0,e,-U]}):A===F?S.push({t3:[0,-e,-U]},{r3:[V,0,0]},{t3:[0,e,U]}):A===c?S.push({t3:[0,-e,0]},{r3:[0,0,V]},{t3:[0,e,0]}):A===m&&S.push({t3:[0,-e,0]},{r3:[V,0,0]},{t3:[0,e,0]})),K===F&&(A===_?S.push({t3:[y,e,0]},{r3:[0,0,-V]},{t3:[-y,-e,0]}):A===l?S.push({t3:[-y,e,0]},{r3:[0,0,V]},{t3:[y,-e,0]}):A===v?S.push({t3:[0,e,-U]},{r3:[-V,0,0]},{t3:[0,-e,U]}):A===F?S.push({t3:[0,e,U]},{r3:[V,0,0]},{t3:[0,-e,-U]}):A===c?S.push({t3:[0,e,0]},{r3:[0,0,V]},{t3:[0,-e,0]}):A===m&&S.push({t3:[0,e,0]},{r3:[V,0,0]},{t3:[0,-e,0]})),Q(S)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);